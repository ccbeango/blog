(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{364:function(t,s,a){"use strict";a.r(s);var e=a(1),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"小视频笔记-三"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小视频笔记-三"}},[t._v("#")]),t._v(" 小视频笔记(三)")]),t._v(" "),s("h1",{attrs:{id:"_8-权限管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-权限管理"}},[t._v("#")]),t._v(" 8 权限管理")]),t._v(" "),s("h2",{attrs:{id:"_8-1-acl权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-acl权限"}},[t._v("#")]),t._v(" 8.1 ACL权限")]),t._v(" "),s("h3",{attrs:{id:"_1-权限简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-权限简介"}},[t._v("#")]),t._v(" 1.权限简介")]),t._v(" "),s("p",[t._v("Linux的文件有所有者，所属组，其他人三种权限，但这是远远不够的，比如说，有一个project，项目管理员将所有项目人员添加到该项目的所属组中，分配权限770，有一天，临时来了一个成员，该成员需要先进行学习，然后才能工作，这时我们需要对该成员对project分配读和可执行的权限，不能将其他人权限设为5，文件只有一个所属组，所以对project分配两个所属组的方式不成立，显然此时的权限管理方式无法满足要求，这时候就用到ACL权限了，所谓的ACL权限，可以简单的理解为为某一用户或某一组分配不属于所有，所属组，其他人的额外权限。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/ccbeango/blogImages/Linux/linux%E5%B0%8F%E8%A7%86%E9%A2%9104.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_2-查看分区acl权限是否开启"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-查看分区acl权限是否开启"}},[t._v("#")]),t._v(" 2.查看分区ACL权限是否开启")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看分区使用状况")]),t._v("\n~ andy$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("df")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-h")]),t._v("\nFilesystem      Size   Used  Avail Capacity iused      ifree %iused  Mounted on\n/dev/disk1     112Gi   61Gi   51Gi    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("55")]),t._v("% "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1632930")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4293334349")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("%   /\ndevfs          182Ki  182Ki    0Bi   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("%     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("632")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("%   /dev\nmap "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-hosts")]),t._v("       0Bi    0Bi    0Bi   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("%       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("%   /net\nmap auto_home    0Bi    0Bi    0Bi   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("%       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("%   /home\n")])])]),s("p",[t._v("命令格式："),s("code",[t._v("dumpefs [选项] 分区路径")])]),t._v(" "),s("p",[t._v("​\t查询指定分区详细文件系统信息的命令")]),t._v(" "),s("p",[t._v("选项:")]),t._v(" "),s("p",[t._v("​\t-h 仅显示超级块中信息，而不显示磁盘块组的详细信息")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v(" dumpe2fs "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-h")]),t._v(" /dev/sda3\n \n")])])]),s("h3",{attrs:{id:"_3-临时开启分区acl权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-临时开启分区acl权限"}},[t._v("#")]),t._v(" 3.临时开启分区ACL权限")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重新挂载根分区，并挂载加入acl权限")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mount -o remount,acl /")]),t._v("\n")])])]),s("h3",{attrs:{id:"_4-永久开启分区acl权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-永久开启分区acl权限"}},[t._v("#")]),t._v(" 4.永久开启分区ACL权限")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vi /etc/fstab")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("UUID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("c2ca6f57-b15c-43ea-bca0-f239083d8bd2 / ext4 defaults,acl "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#加入acl")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mount -o remount /")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#重新挂载文件系统或重启动系统，使修改生效")]),t._v("\n")])])]),s("p",[s("strong",[t._v("注：")]),t._v(" fastab是系统开机启动默认挂载的文件")]),t._v(" "),s("h3",{attrs:{id:"_5-设定acl权限的命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-设定acl权限的命令"}},[t._v("#")]),t._v(" 5. 设定ACL权限的命令")]),t._v(" "),s("p",[t._v("命令："),s("code",[t._v("setfacl 选项 文件名")]),t._v(" 设置ACL权限")]),t._v(" "),s("p",[t._v("选项：")]),t._v(" "),s("ul",[s("li",[t._v("-m       设定ACL权限")]),t._v(" "),s("li",[t._v("-x         删除指定的ACL权限")]),t._v(" "),s("li",[t._v("-b         删除所有的ACL权限")]),t._v(" "),s("li",[t._v("-d         设定默认ACL权限")]),t._v(" "),s("li",[t._v("-k          删除默认ACL权限")]),t._v(" "),s("li",[t._v("-R         递归设定ACL权限")])]),t._v(" "),s("p",[t._v("命令："),s("code",[t._v("getacl 路径")]),t._v(" 查看ACL权限")]),t._v(" "),s("p",[t._v("准备工作，创建需要的用户和用户组")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# useradd zhangsan")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# useradd lisi")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# useradd st")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# groupadd tgroup")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir /tmp/project")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# chown root:tgroup /tmp/project/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# chmod 770 /tmp/project/")]),t._v("\n")])])]),s("p",[t._v("给用户设定ACL权限")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 给用户st赋予r-x权限，使用“u:用户名:权限”格式")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# setfacl -m u:st:rx /tmp/project")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设定结果 多了个“+”")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ll -d")]),t._v("\ndrwxrwx---+ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" root tgroup "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v(" Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" 07:22 /tmp/project\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# getfacl .")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# file: .")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# owner: root")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# group: tgroup")]),t._v("\nuser::rwx\nuser:st:r-x\ngroup::rwx\nmask::rwx\nother::---\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 切换用户测试 没有w权限")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# su - st")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("st@262e395bc9e9 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /tmp/project/\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("st@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" test.js\ntouch: cannot "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test.js'")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" Permission denied\n")])])]),s("p",[t._v("给用户组设定ACL权限")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# groupadd tgroup2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# setfacl -m g:tgroup2:rwx /tmp/project")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# getfacl /tmp/project")]),t._v("\ngetfacl: Removing leading "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),t._v(" from absolute path names\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# file: tmp/project")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# owner: root")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# group: tgroup")]),t._v("\nuser::rwx\nuser:st:r-x\ngroup::rwx\ngroup:tgroup2:rwx\nmask::rwx\nother::---\n")])])]),s("h3",{attrs:{id:"_6-最大有效权限与删除"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-最大有效权限与删除"}},[t._v("#")]),t._v(" 6.最大有效权限与删除")]),t._v(" "),s("p",[t._v("​\t最大有效权限mask：mask是用来指定最大有效权限的。如果 我给用户赋予了ACL权限，是需要和 mask的权限“相与”才能得到用户的真正权限 。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# setfacl -m m:rx /tmp/project")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# getfacl /tmp/project")]),t._v("\ngetfacl: Removing leading "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),t._v(" from absolute path names\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# file: tmp/project")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# owner: root")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# group: tgroup")]),t._v("\nuser::rwx\nuser:st:r-x\ngroup::rwx\t\t\t    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#effective:r-x")]),t._v("\ngroup:tgroup2:rwx\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#effective:r-x")]),t._v("\nmask::r-x\nother::---\n")])])]),s("p",[t._v("它并不影响所有者的权限，而是影响所属组和ACL的权限。")]),t._v(" "),s("p",[t._v("删除ACL权限")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除指定用户的ACL权限")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# setfacl -x u:用户名 文件名")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除指定用户组的ACL权限")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# setfacl -x g:组名 文件名")]),t._v("\n")])])]),s("p",[t._v("使用：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# setfacl -x g:tgroup2 /tmp/project")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# getfacl .")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# file: .")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# owner: root")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# group: tgroup")]),t._v("\nuser::rwx\nuser:st:r-x\ngroup::rwx\nmask::rwx\nother::---\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# setfacl -b /tmp/project")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# getfacl .")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# file: .")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# owner: root")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# group: tgroup")]),t._v("\nuser::rwx\ngroup::rwx\nother::---\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 没“+”")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ll -d")]),t._v("\ndrwxrwx--- "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" root tgroup "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v(" Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" 07:22 "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n")])])]),s("h3",{attrs:{id:"_7-默认与递归acl权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-默认与递归acl权限"}},[t._v("#")]),t._v(" 7.默认与递归ACL权限")]),t._v(" "),s("p",[t._v("​\t递归是父目录在设定ACL权限时，所有的子文件和子目录也会拥有相同的ACL权限。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("setfacl "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" u:用户名:权限 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-R")]),t._v(" 目录\n")])])]),s("p",[t._v("​\t注："),s("code",[t._v("-R")]),t._v("只能在这个位置，其他位置会报错")]),t._v(" "),s("p",[t._v("使用：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# setfacl -m u:st:rx -R /tmp/project ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ll -a")]),t._v("\ntotal "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("\ndrwxrwx---+ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" root tgroup "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v(" Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" 08:26 "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\ndrwxrwxrwt  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v(" Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" 07:22 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\ndrwxr-xr-x+ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" root root   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v(" Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" 08:25 test1\ndrwxr-xr-x+ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" root root   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v(" Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" 08:26 test2\n")])])]),s("p",[t._v("​\t默认ACL权限：如果给父目录设定 了默认ACL权限，那么父目录中所有新建 的子文件都会继承父目录的ACL权限 。这个操作只会对新创建在目录下的文件生效，对现有的文件无影响，如果现有文件也需要设置ACL权限，需要使用递归赋予权限。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("setfacl "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" d:u:用户名:权限 文件名\n")])])]),s("p",[t._v("​\t注："),s("code",[t._v("d")]),t._v("指的是"),s("code",[t._v("default")])]),t._v(" "),s("p",[t._v("使用：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# setfacl -m d:u:st:rx /tmp/project")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir test3 ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# getfacl test3")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# file: test3")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# owner: root")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# group: root")]),t._v("\nuser::rwx\nuser:st:r-x\ngroup::rwx\nmask::rwx\nother::---\ndefault:user::rwx\ndefault:user:st:r-x\ndefault:group::rwx\ndefault:mask::rwx\ndefault:other::---\n")])])]),s("h2",{attrs:{id:"_8-2-文件特殊权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-文件特殊权限"}},[t._v("#")]),t._v(" 8.2 文件特殊权限")]),t._v(" "),s("h3",{attrs:{id:"_1-setuid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-setuid"}},[t._v("#")]),t._v(" 1.SetUID")]),t._v(" "),s("h3",{attrs:{id:"_2-setuid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-setuid"}},[t._v("#")]),t._v(" 2.SetUID")]),t._v(" "),s("h3",{attrs:{id:"_3-sticky-bit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-sticky-bit"}},[t._v("#")]),t._v(" 3.Sticky BIT")]),t._v(" "),s("h2",{attrs:{id:"_8-3-文件系统属性权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-文件系统属性权限"}},[t._v("#")]),t._v(" 8.3 文件系统属性权限")]),t._v(" "),s("h3",{attrs:{id:"chattr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chattr"}},[t._v("#")]),t._v(" chattr")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("命令名称")]),t._v(" "),s("td",[t._v("chattr")])]),t._v(" "),s("tr",[s("td",[t._v("原意")]),t._v(" "),s("td",[t._v("change attributes")])]),t._v(" "),s("tr",[s("td",[t._v("所在路径")]),t._v(" "),s("td",[t._v("/usr/bin/chattr")])]),t._v(" "),s("tr",[s("td",[t._v("功能描述")]),t._v(" "),s("td",[t._v("更改系统文件属性")])]),t._v(" "),s("tr",[s("td",[t._v("语法")]),t._v(" "),s("td",[t._v("chattr [+-=].  [选项] 文件或目录名")])])])]),t._v(" "),s("p",[s("code",[t._v("+:增加权限 -：删除权限 =：等于某权限")])]),t._v(" "),s("p",[t._v("选项说明:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("i")]),t._v(": 如果对文件设置i属性，那么不允许对文件进行删除、改名，也不能添加和修改数据;如果对目录设置i属性，那么只能修改目录下文件的数据，但不允许建立和删除文件 。")]),t._v(" "),s("li",[s("code",[t._v("a")]),t._v(": 如果对文件设置a属性，那么只能在文件中增加数据，但是不能删除也不能修改数据(数据增加只能是追加的方式);如果对目录设置"),s("code",[t._v("a")]),t._v("属性，那么只允许在目录中建立和修改文件 ，但是不允许删除 。")])]),t._v(" "),s("p",[s("code",[t._v("chattr")]),t._v("对于保护文件系统当中重要数据免遭误操作是非常有效的。但是可以通过"),s("code",[t._v("+-")]),t._v("进行方便的设置是否可以操作，它不是为了限制用户，而是为了防止连在root用户在内的用户进行误操作的措施。")]),t._v(" "),s("h3",{attrs:{id:"lsattr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lsattr"}},[t._v("#")]),t._v(" lsattr")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("命令名称")]),t._v(" "),s("td",[t._v("lsattr")])]),t._v(" "),s("tr",[s("td",[t._v("原意")]),t._v(" "),s("td",[t._v("ls attributes")])]),t._v(" "),s("tr",[s("td",[t._v("所在路径")]),t._v(" "),s("td",[t._v("/usr/bin/lsattr")])]),t._v(" "),s("tr",[s("td",[t._v("功能描述")]),t._v(" "),s("td",[t._v("查看系统文件属性")])]),t._v(" "),s("tr",[s("td",[t._v("语法")]),t._v(" "),s("td",[t._v("chattr  选项名 文件名")])])])]),t._v(" "),s("p",[t._v("选项说明：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("-a")]),t._v("：显示所有文件和目录")]),t._v(" "),s("li",[s("code",[t._v("-d")]),t._v("：若目标是目录，仅列出目录本身的属性，而不是子文件的")])]),t._v(" "),s("h2",{attrs:{id:"_8-4-系统命令sudo权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-4-系统命令sudo权限"}},[t._v("#")]),t._v(" 8.4 系统命令sudo权限")]),t._v(" "),s("h3",{attrs:{id:"sudo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sudo"}},[t._v("#")]),t._v(" sudo")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("命令名称")]),t._v(" "),s("td",[t._v("sudo")])]),t._v(" "),s("tr",[s("td",[t._v("原意")]),t._v(" "),s("td",[t._v("super user do")])]),t._v(" "),s("tr",[s("td",[t._v("所在路径")]),t._v(" "),s("td",[t._v("/usr/bin/sudo")])]),t._v(" "),s("tr",[s("td",[t._v("功能描述")]),t._v(" "),s("td",[t._v("root把本来只能超级用户执行的命令赋予普通用户执行")])]),t._v(" "),s("tr",[s("td",[t._v("语法")]),t._v(" "),s("td",[t._v("sudo 系统命令")])])])]),t._v(" "),s("p",[t._v("使用：")]),t._v(" "),s("ol",[s("li",[t._v("赋予普通用户权限或用户组权限")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 实际修改的是/etc/sudoers文件 直接用vi修改这个文件也可以")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 tmp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# visudo")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用户名 被管理主机的地址=(可使用的身份)  授权命令(绝对路径)")]),t._v("\nroot "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ALL")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ALL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          ALL\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %组名 被管理主机的地址=(可使用的身份)   授权命令(绝对路径)")]),t._v("\n%wheel  "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ALL")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ALL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       ALL\n")])])]),s("p",[s("code",[t._v("ALL=(ALL)")]),t._v("第一个"),s("code",[t._v("ALL")]),t._v("并不是定义允许哪个ip地址或网络允许访问我们，而是定义允许哪一个用户在哪一台计算机上执行某一条命令，即写的是被管理主机的地址。限制的是访问IP而不是来源IP。第二个"),s("code",[t._v("ALL")]),t._v("指的是可使用的用户。第三个"),s("code",[t._v("ALL")]),t._v("标识授权命令，写ALL其实是不合理的，赋予的能力过于强大，正常来讲，应该写具体哪个命令，使用的是绝对路径。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 tmp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# visudo")]),t._v("\nsc "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ALL")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" /sbin/shutdown –r now\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 赋予sc此权限很危险，用户可以操作任何文件。不过看公司使用全都给的ALL。。。")]),t._v("\nsc "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ALL")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/bin/vim\n")])])]),s("p",[t._v("注意：如果命令写的越简单，代表用户具有的权限越大。比如说上面的命令没有写"),s("code",[t._v("-r now")]),t._v("代表用户可以执行"),s("code",[t._v("shutdown")]),t._v("的所有参数。即命令可以根据需求，进行修改。")]),t._v(" "),s("p",[s("code",[t._v("sudo -l")]),t._v("可查看拥有的权限")]),t._v(" "),s("h1",{attrs:{id:"_9-文件系统管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-文件系统管理"}},[t._v("#")]),t._v(" 9.文件系统管理")]),t._v(" "),s("h2",{attrs:{id:"_9-1-分区和文件系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-分区和文件系统"}},[t._v("#")]),t._v(" 9.1 分区和文件系统")]),t._v(" "),s("h3",{attrs:{id:"_1-分区类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-分区类型"}},[t._v("#")]),t._v(" 1.分区类型")]),t._v(" "),s("p",[t._v("分区有三种类型：")]),t._v(" "),s("ul",[s("li",[t._v("主分区： 总共最多只能分四个")]),t._v(" "),s("li",[t._v("扩展分区：只能有一个，也算作主分区的一种 ，也就是说主分区加扩展分区最多有四个。但是扩展分区不能存储数据和格式化，必须再划分成逻辑分区才能使用。")]),t._v(" "),s("li",[t._v("逻辑分区：逻辑分区是在扩展分区中划分的， 如果是"),s("code",[t._v("IDE")]),t._v("硬盘，"),s("code",[t._v("Linux")]),t._v("最多支持"),s("strong",[t._v("59")]),t._v("个逻辑分区 ，如果是"),s("code",[t._v("SCSI")]),t._v("硬盘"),s("code",[t._v("Linux")]),t._v("最多支持"),s("code",[t._v("11")]),t._v("个逻辑分区 。")])]),t._v(" "),s("p",[t._v("​         分区可以理解为把一个大柜子分为几个小柜子，但是只允许打四个柜子，但当物品分类更多四个柜子不够用时，可以把其中一个小柜子再进行划分成更细致的柜子。这种分区方法的目的就是为了突破四个分区的限制。")]),t._v(" "),s("p",[t._v("分区表示方法：")]),t._v(" "),s("p",[t._v("设备文件名")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("分区名称")]),t._v(" "),s("th",[t._v("文件名")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("主分区1")]),t._v(" "),s("td",[t._v("/dev/sda1")])]),t._v(" "),s("tr",[s("td",[t._v("主分区2")]),t._v(" "),s("td",[t._v("/dev/sda2")])]),t._v(" "),s("tr",[s("td",[t._v("主分区3")]),t._v(" "),s("td",[t._v("/dev/sda3")])]),t._v(" "),s("tr",[s("td",[t._v("扩展分区")]),t._v(" "),s("td",[t._v("/dev/sda4")])]),t._v(" "),s("tr",[s("td",[t._v("逻辑分区1")]),t._v(" "),s("td",[t._v("/dev/sda5")])]),t._v(" "),s("tr",[s("td",[t._v("逻辑分区2")]),t._v(" "),s("td",[t._v("/dev/sda6")])]),t._v(" "),s("tr",[s("td",[t._v("逻辑分区3")]),t._v(" "),s("td",[t._v("/dev/sda7")])])])]),t._v(" "),s("p",[t._v("注："),s("code",[t._v("sd")]),t._v("代表"),s("code",[t._v("SCSI")]),t._v("或"),s("code",[t._v("sdtype")]),t._v("硬盘接口，"),s("code",[t._v("a")]),t._v("代表第一块硬盘，"),s("code",[t._v("1 2 3 4")]),t._v("代表四个主分区，只能给主分区使用，就算空下来也不能给逻辑分区使用。 从"),s("code",[t._v("5")]),t._v("开始代表逻辑分区。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/ccbeango/blogImages/Linux/linux%E5%B0%8F%E8%A7%86%E9%A2%9105.png",alt:""}})]),t._v(" "),s("p",[t._v("更习惯的分区方式是:")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/ccbeango/blogImages/Linux/linux%E5%B0%8F%E8%A7%86%E9%A2%9106.jpg",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_2-文件系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-文件系统"}},[t._v("#")]),t._v(" 2.文件系统")]),t._v(" "),s("p",[t._v("有了分区之后，硬盘还不能使用，必须格式化之后才可以使用。格式化就是为了写入文件系统。")]),t._v(" "),s("p",[t._v("Linux默认文件系统分类：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("ext2")]),t._v("：是ext文件系统的升级版本，Red Hat Linux7.2版本以前的系统默认都是ext2 文件系统。1993年发布，最大支持16TB 的分区和最大2TB的文件"),s("code",[t._v("1TB=1024GB=1024*1024KB")]),t._v("。")]),t._v(" "),s("li",[s("code",[t._v("ext3")]),t._v("：ext3文件系统是ext2文件系统的升 级版本，最大的区别就是带日志功能，以在系统突然停止时提高文件系统的可靠性 。支持最大16TB的分区和最大2TB的文件 。")]),t._v(" "),s("li",[s("code",[t._v("ext4")]),t._v("：它是ext3文件系统的升级版。ext4 在性能 、伸缩性和可靠性方面进行了大量改进。EXT4的变化可以说是翻天覆地的，比如向下兼容 EXT3、最大1EB文件系统和16TB文件、无限数量子目录、Extents连续数据块概念、多块分配 、延迟分配、持久预分配、快速FSCK、日志校 验、无日志模式、在线碎片整理、inode增强、 默认启用barrier等。"),s("code",[t._v("1EB=1024PB=1024*1024TB")])])]),t._v(" "),s("h2",{attrs:{id:"_9-2-文件系统常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-文件系统常用命令"}},[t._v("#")]),t._v(" 9.2 文件系统常用命令")]),t._v(" "),s("h3",{attrs:{id:"_1-挂载命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-挂载命令"}},[t._v("#")]),t._v(" 1.  挂载命令")]),t._v(" "),s("h4",{attrs:{id:"df"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#df"}},[t._v("#")]),t._v(" df")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("命令名称")]),t._v(" "),s("td",[t._v("df")])]),t._v(" "),s("tr",[s("td",[t._v("原意")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("所在路径")]),t._v(" "),s("td",[t._v("/usr/bin/df")])]),t._v(" "),s("tr",[s("td",[t._v("功能描述")]),t._v(" "),s("td",[t._v("统计文件系统的占用情况")])]),t._v(" "),s("tr",[s("td",[t._v("语法")]),t._v(" "),s("td",[s("code",[t._v("df [选项] [挂载点]")])])])])]),t._v(" "),s("p",[t._v("选项说明：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("-a")]),t._v("：显示所有的文件系统信息，包括特殊文件系统，如 /proc、/sysfs")]),t._v(" "),s("li",[s("code",[t._v("-h")]),t._v("：使用习惯单位显示容量，如KB，MB或GB等")]),t._v(" "),s("li",[s("code",[t._v("-T")]),t._v("：显示文件系统类型")]),t._v(" "),s("li",[s("code",[t._v("-m")]),t._v("：以MB为单位显示容量")]),t._v(" "),s("li",[s("code",[t._v("-k")]),t._v("：以KB为单位显示容量。默认就是以KB为单位")])]),t._v(" "),s("h4",{attrs:{id:"du"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#du"}},[t._v("#")]),t._v(" du")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("命令名称")]),t._v(" "),s("td",[t._v("du")])]),t._v(" "),s("tr",[s("td",[t._v("原意")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("所在路径")]),t._v(" "),s("td",[t._v("/usr/bin/du")])]),t._v(" "),s("tr",[s("td",[t._v("功能描述")]),t._v(" "),s("td",[t._v("统计目录或文件大小")])]),t._v(" "),s("tr",[s("td",[t._v("语法")]),t._v(" "),s("td",[s("code",[t._v("df [选项] [挂载点]")])])])])]),t._v(" "),s("p",[t._v("选项说明：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("-a")]),t._v("：显示每个子文件的磁盘占用量。默认只统计子目录的磁盘占用量")]),t._v(" "),s("li",[s("code",[t._v("-h")]),t._v("：使用习惯单位显示磁盘占用量，如KB，MB或GB等")]),t._v(" "),s("li",[s("code",[t._v("-s")]),t._v("：统计总占用量，而不列出子目录和子文件的占用量")])]),t._v(" "),s("p",[t._v("注:此命令一般不用做统计文件大小，因为完全可用"),s("code",[t._v("ls")]),t._v("代替，但"),s("code",[t._v("ls")]),t._v("统计目录大小时，只会统计目录下一级子目录和文件的文件名所占用空间大小，而不会统计子目录和文件中的数据占用的空间多大。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ls -lh /")]),t._v("\ntotal 56K\n-rw-r--r--   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root  12K Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":05 anaconda-post.log\nlrwxrwxrwx   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":04 bin -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" usr/bin\ndrwxr-xr-x   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" root root  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("360")]),t._v(" Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" 09:30 dev\ndrwxr-xr-x   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(".0K Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(":06 etc\ndrwxr-xr-x   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(".0K Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" 07:39 home\nlrwxrwxrwx   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":04 lib -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" usr/lib\nlrwxrwxrwx   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":04 lib64 -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" usr/lib64\ndrwxr-xr-x   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" root root "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(".0K Apr "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" 04:59 media\ndrwxr-xr-x   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" root root "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(".0K Apr "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" 04:59 mnt\ndrwxr-xr-x   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" root root "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(".0K Apr "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" 04:59 opt\ndr-xr-xr-x "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("166")]),t._v(" root root    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" 09:30 proc\ndr-xr-x---   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(".0K Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" 09:30 root\ndrwxr-xr-x   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(".0K Aug "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" 03:19 run\nlrwxrwxrwx   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":04 sbin -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" usr/sbin\ndrwxr-xr-x   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" root root "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(".0K Apr "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" 04:59 srv\ndr-xr-xr-x  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(" root root    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" Aug "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" 03:52 sys\ndrwxrwxrwt   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(".0K Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":28 tmp\ndrwxr-xr-x   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(".0K Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":04 usr\ndrwxr-xr-x   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(".0K Aug  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":04 var\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@262e395bc9e9 /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# du -sh /etc/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".7M\t/etc/\n")])])]),s("p",[s("strong",[t._v("du命令和df命令的区别：")])]),t._v(" "),s("p",[s("code",[t._v("df")]),t._v("命令是从文件系统考虑的，不光要考虑文件占用的空间，还要统计被命令或程序占用的空间(最常见的就是文件已经删除 ，但是程序并没有释放空间) ；"),s("code",[t._v("du")]),t._v("命令是面向文件的，只会计算文件或目录占用的空间。")]),t._v(" "),s("h4",{attrs:{id:"fsck"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fsck"}},[t._v("#")]),t._v(" fsck")]),t._v(" "),s("p",[t._v("系统在启动时会自动执行，不需要手动执行，是底层修复命令，自己执行有时候反而会出问题，了解就好")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("命令名称")]),t._v(" "),s("td",[t._v("fsck")])]),t._v(" "),s("tr",[s("td",[t._v("原意")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("所在路径")]),t._v(" "),s("td",[t._v("/usr/sbin/fsck")])]),t._v(" "),s("tr",[s("td",[t._v("功能描述")]),t._v(" "),s("td",[t._v("文件系统修复命令")])]),t._v(" "),s("tr",[s("td",[t._v("语法")]),t._v(" "),s("td",[s("code",[t._v("df [选项] [挂载点]")])])])])]),t._v(" "),s("p",[t._v("选项说明：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("-a")]),t._v("：不用显示用户提示，自动修复文件系统")]),t._v(" "),s("li",[s("code",[t._v("-y")]),t._v("：自动修复。和-a作用一致，不过有些文件系统只支持"),s("code",[t._v("-y")])])]),t._v(" "),s("h4",{attrs:{id:"dumpe2fs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dumpe2fs"}},[t._v("#")]),t._v(" dumpe2fs")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("命令名称")]),t._v(" "),s("td",[t._v("dumpe2fs")])]),t._v(" "),s("tr",[s("td",[t._v("原意")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("所在路径")]),t._v(" "),s("td",[t._v("/usr/sbin/dumpe2fs")])]),t._v(" "),s("tr",[s("td",[t._v("功能描述")]),t._v(" "),s("td",[t._v("显示磁盘状态 （主要用来查看数据块大小）")])]),t._v(" "),s("tr",[s("td",[t._v("语法")]),t._v(" "),s("td",[s("code",[t._v("dumpe2fs [选项] 分区设备文件名")])])])])]),t._v(" "),s("h3",{attrs:{id:"_2-挂载命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-挂载命令"}},[t._v("#")]),t._v(" 2.挂载命令")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("命令名称")]),t._v(" "),s("td",[t._v("mount")])]),t._v(" "),s("tr",[s("td",[t._v("原意")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("所在路径")]),t._v(" "),s("td",[t._v("/usr/bin/mount")])]),t._v(" "),s("tr",[s("td",[t._v("功能描述")]),t._v(" "),s("td",[t._v("查询和挂载")])]),t._v(" "),s("tr",[s("td",[t._v("语法")]),t._v(" "),s("td",[s("code",[t._v("mount [-la][-t 文件系统][-L 卷标名][-o 特殊选项] 设备文件名 挂载点")])])])])]),t._v(" "),s("p",[t._v("选项说明：")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("-l")]),t._v("：查询系统中已经挂载的设备时，会显示卷标名称。")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("-a")]),t._v("：根据配置文件"),s("code",[t._v("/etc/fstab")]),t._v("的内容，自动挂载")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("-t 文件系统")]),t._v("：加入文件系统类型来指定挂载的类型，可以"),s("code",[t._v("ext3")]),t._v("、"),s("code",[t._v("ext4")]),t._v("、"),s("code",[t._v("iso9600")]),t._v("等文件系统")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("-L 卷标名")]),t._v("：挂载指定卷标的分区，而不是安装设备文件名挂载")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("-o 特殊选项")]),t._v("：可以指定挂载的额外选项，用逗号隔开特殊选项，如："),s("code",[t._v("remount,noexec")])]),t._v(" "),s("p",[t._v("特殊选项说明：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/ccbeango/blogImages/Linux/linux%E5%B0%8F%E8%A7%86%E9%A2%9107.jpg",alt:""}})])])]),t._v(" "),s("p",[t._v("把设备文件名和挂载点连接起来")]),t._v(" "),s("p",[t._v("使用：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#重新挂载/boot分区，并使用noexec权限 ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost sh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mount -o remount,noexec /home")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost sh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd /home ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost boot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vi hello.sh ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost boot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ./hello.sh")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost boot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# chmod 755 hello.sh")]),t._v("\nhello world\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost boot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mount -o remount,exec /home")]),t._v("\n")])])]),s("h3",{attrs:{id:"_3-挂载光盘与u盘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-挂载光盘与u盘"}},[t._v("#")]),t._v(" 3.挂载光盘与U盘")]),t._v(" "),s("h4",{attrs:{id:"mount挂载光盘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mount挂载光盘"}},[t._v("#")]),t._v(" mount挂载光盘")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#建立挂载点")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir /mnt/cdrom/")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#挂载光盘 ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mount -t iso9660 /dev/cdrom /mnt/cdrom/")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mount /dev/sr0 /mnt/cdrom/")]),t._v("\n")])])]),s("p",[s("code",[t._v("mount")]),t._v("其实就是把设备文件和挂载点连接起来。上述就是把"),s("code",[t._v("/dev/cdrom")]),t._v("设备文件挂载到"),s("code",[t._v("/mnt/cdrom")]),t._v("。")]),t._v(" "),s("p",[t._v("挂载挂盘时，设备文件使用"),s("code",[t._v("/dev/cdrom")]),t._v("和"),s("code",[t._v("/dev/sr0")]),t._v("效果相同，其实前者是后者的一个软链接。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ll /dev/cdrom")]),t._v("\nlrwxrwxrwx. l root root "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("月 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v("：26 /dev/cdrom -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" sr0 \n")])])]),s("p",[t._v("访问数据的时候，直接去挂载点访问数据。")]),t._v(" "),s("h4",{attrs:{id:"unmount卸载光盘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unmount卸载光盘"}},[t._v("#")]),t._v(" unmount卸载光盘")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# umount 设备文件名或挂载点")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# umount /mnt/cdrom")]),t._v("\n")])])]),s("h4",{attrs:{id:"挂载u盘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#挂载u盘"}},[t._v("#")]),t._v(" 挂载U盘")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看U盘设备文件名")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# fdisk –l")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mount -t vfat /dev/sdb1 /mnt/usb/")]),t._v("\n")])])]),s("p",[t._v("**注意:**Linux默认是不支持NTFS文件系统的。在Linux中， 把"),s("code",[t._v("fat")]),t._v("和"),s("code",[t._v("fat16")]),t._v("分区识别为"),s("code",[t._v("fat")]),t._v(",把"),s("code",[t._v("fat32")]),t._v("分区识别为"),s("code",[t._v("vfat")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"_4-fdisk分区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-fdisk分区"}},[t._v("#")]),t._v(" 4.fdisk分区")]),t._v(" "),s("h4",{attrs:{id:"_1-fdisk命令分区过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-fdisk命令分区过程"}},[t._v("#")]),t._v(" 1.fdisk命令分区过程")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1. 添加新硬盘")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2. 查看新硬盘")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# fdisk -l")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 3. 使用fdisk命令分区")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# fdisk /dev/sdb")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 4. 重新读取分区")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# partprobe")]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/ccbeango/blogImages/Linux/linux%E5%B0%8F%E8%A7%86%E9%A2%9108.jpg",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"_2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2"}},[t._v("#")]),t._v(" 2.")])])}),[],!1,null,null,null);s.default=r.exports}}]);