<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>小视频笔记（二） | CcbeanBlog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/blog/img/favicon.ico">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <meta name="description" content="web技术博客,简洁至上。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,NodeJS,Node,Node.js,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,react,css3,html5,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/blog/assets/css/0.styles.76d42078.css" as="style"><link rel="preload" href="/blog/assets/js/app.0ed7b280.js" as="script"><link rel="preload" href="/blog/assets/js/2.7308dfd9.js" as="script"><link rel="preload" href="/blog/assets/js/47.5cf0a7f8.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.166b2ca6.js"><link rel="prefetch" href="/blog/assets/js/100.194e839b.js"><link rel="prefetch" href="/blog/assets/js/101.0db39944.js"><link rel="prefetch" href="/blog/assets/js/102.e13c8470.js"><link rel="prefetch" href="/blog/assets/js/103.0ae2f2ee.js"><link rel="prefetch" href="/blog/assets/js/104.a261556e.js"><link rel="prefetch" href="/blog/assets/js/105.4d458a5f.js"><link rel="prefetch" href="/blog/assets/js/106.6d2f15cf.js"><link rel="prefetch" href="/blog/assets/js/107.a770982a.js"><link rel="prefetch" href="/blog/assets/js/108.0be9ce8f.js"><link rel="prefetch" href="/blog/assets/js/109.88d01e84.js"><link rel="prefetch" href="/blog/assets/js/11.faae5f41.js"><link rel="prefetch" href="/blog/assets/js/110.d3186629.js"><link rel="prefetch" href="/blog/assets/js/111.37d2b500.js"><link rel="prefetch" href="/blog/assets/js/112.d94648de.js"><link rel="prefetch" href="/blog/assets/js/113.a7cf5597.js"><link rel="prefetch" href="/blog/assets/js/114.a339354f.js"><link rel="prefetch" href="/blog/assets/js/115.597976cc.js"><link rel="prefetch" href="/blog/assets/js/116.c64f1f49.js"><link rel="prefetch" href="/blog/assets/js/117.bbbbb20b.js"><link rel="prefetch" href="/blog/assets/js/118.c9ba24ea.js"><link rel="prefetch" href="/blog/assets/js/119.25208df7.js"><link rel="prefetch" href="/blog/assets/js/12.782cd676.js"><link rel="prefetch" href="/blog/assets/js/120.2e0a20ad.js"><link rel="prefetch" href="/blog/assets/js/121.7bb8f6f5.js"><link rel="prefetch" href="/blog/assets/js/122.562fe94b.js"><link rel="prefetch" href="/blog/assets/js/123.9562f569.js"><link rel="prefetch" href="/blog/assets/js/124.fd67828f.js"><link rel="prefetch" href="/blog/assets/js/125.3262b310.js"><link rel="prefetch" href="/blog/assets/js/126.c6f106af.js"><link rel="prefetch" href="/blog/assets/js/127.4b7016d1.js"><link rel="prefetch" href="/blog/assets/js/128.b3ac8038.js"><link rel="prefetch" href="/blog/assets/js/129.3ef9af3d.js"><link rel="prefetch" href="/blog/assets/js/13.508b65ad.js"><link rel="prefetch" href="/blog/assets/js/130.4b925feb.js"><link rel="prefetch" href="/blog/assets/js/131.37cb5d18.js"><link rel="prefetch" href="/blog/assets/js/132.76026f1f.js"><link rel="prefetch" href="/blog/assets/js/133.5d3d2938.js"><link rel="prefetch" href="/blog/assets/js/134.89b4fe3b.js"><link rel="prefetch" href="/blog/assets/js/135.dd2731dc.js"><link rel="prefetch" href="/blog/assets/js/136.e5cacc53.js"><link rel="prefetch" href="/blog/assets/js/137.39282e0b.js"><link rel="prefetch" href="/blog/assets/js/138.b3801697.js"><link rel="prefetch" href="/blog/assets/js/14.88ac5afd.js"><link rel="prefetch" href="/blog/assets/js/15.b4227c88.js"><link rel="prefetch" href="/blog/assets/js/16.98d2ae02.js"><link rel="prefetch" href="/blog/assets/js/17.6f25717f.js"><link rel="prefetch" href="/blog/assets/js/18.ae934359.js"><link rel="prefetch" href="/blog/assets/js/19.ffe2dcb2.js"><link rel="prefetch" href="/blog/assets/js/20.2c614eab.js"><link rel="prefetch" href="/blog/assets/js/21.4b7f3180.js"><link rel="prefetch" href="/blog/assets/js/22.03f8def7.js"><link rel="prefetch" href="/blog/assets/js/23.861aebfe.js"><link rel="prefetch" href="/blog/assets/js/24.e842cb60.js"><link rel="prefetch" href="/blog/assets/js/25.5685dfd1.js"><link rel="prefetch" href="/blog/assets/js/26.9487cf2a.js"><link rel="prefetch" href="/blog/assets/js/27.cd3b98f4.js"><link rel="prefetch" href="/blog/assets/js/28.1010db9b.js"><link rel="prefetch" href="/blog/assets/js/29.cff77b90.js"><link rel="prefetch" href="/blog/assets/js/3.b0a270e2.js"><link rel="prefetch" href="/blog/assets/js/30.d9d88b77.js"><link rel="prefetch" href="/blog/assets/js/31.4c816fae.js"><link rel="prefetch" href="/blog/assets/js/32.c414f2c2.js"><link rel="prefetch" href="/blog/assets/js/33.cae1fde7.js"><link rel="prefetch" href="/blog/assets/js/34.c149f32c.js"><link rel="prefetch" href="/blog/assets/js/35.36ce97e5.js"><link rel="prefetch" href="/blog/assets/js/36.b7c514b6.js"><link rel="prefetch" href="/blog/assets/js/37.d9459ed5.js"><link rel="prefetch" href="/blog/assets/js/38.84d4e80e.js"><link rel="prefetch" href="/blog/assets/js/39.21769d8b.js"><link rel="prefetch" href="/blog/assets/js/4.1de495bd.js"><link rel="prefetch" href="/blog/assets/js/40.ba8b2c33.js"><link rel="prefetch" href="/blog/assets/js/41.dbc723df.js"><link rel="prefetch" href="/blog/assets/js/42.6d7ee2ec.js"><link rel="prefetch" href="/blog/assets/js/43.3065c2de.js"><link rel="prefetch" href="/blog/assets/js/44.95652c6b.js"><link rel="prefetch" href="/blog/assets/js/45.1bfb7eee.js"><link rel="prefetch" href="/blog/assets/js/46.21f42bfd.js"><link rel="prefetch" href="/blog/assets/js/48.80e7bcba.js"><link rel="prefetch" href="/blog/assets/js/49.75bf925a.js"><link rel="prefetch" href="/blog/assets/js/5.7e93193d.js"><link rel="prefetch" href="/blog/assets/js/50.1a08250f.js"><link rel="prefetch" href="/blog/assets/js/51.63d67d9a.js"><link rel="prefetch" href="/blog/assets/js/52.4527b3c2.js"><link rel="prefetch" href="/blog/assets/js/53.928eb7b1.js"><link rel="prefetch" href="/blog/assets/js/54.b2c8392c.js"><link rel="prefetch" href="/blog/assets/js/55.84f7c241.js"><link rel="prefetch" href="/blog/assets/js/56.6773809d.js"><link rel="prefetch" href="/blog/assets/js/57.aed02421.js"><link rel="prefetch" href="/blog/assets/js/58.16532c6b.js"><link rel="prefetch" href="/blog/assets/js/59.43238c8c.js"><link rel="prefetch" href="/blog/assets/js/6.d42d0f48.js"><link rel="prefetch" href="/blog/assets/js/60.d868f9ec.js"><link rel="prefetch" href="/blog/assets/js/61.8bc02b72.js"><link rel="prefetch" href="/blog/assets/js/62.83e6c8d0.js"><link rel="prefetch" href="/blog/assets/js/63.ade81187.js"><link rel="prefetch" href="/blog/assets/js/64.cc73a529.js"><link rel="prefetch" href="/blog/assets/js/65.d002206a.js"><link rel="prefetch" href="/blog/assets/js/66.f0665b6d.js"><link rel="prefetch" href="/blog/assets/js/67.11c613ec.js"><link rel="prefetch" href="/blog/assets/js/68.8e2479dd.js"><link rel="prefetch" href="/blog/assets/js/69.02772367.js"><link rel="prefetch" href="/blog/assets/js/7.2b3bcb3f.js"><link rel="prefetch" href="/blog/assets/js/70.3545ebb5.js"><link rel="prefetch" href="/blog/assets/js/71.b7c76516.js"><link rel="prefetch" href="/blog/assets/js/72.035b6ee2.js"><link rel="prefetch" href="/blog/assets/js/73.9feda52a.js"><link rel="prefetch" href="/blog/assets/js/74.d62cf235.js"><link rel="prefetch" href="/blog/assets/js/75.db2ada7c.js"><link rel="prefetch" href="/blog/assets/js/76.8569647d.js"><link rel="prefetch" href="/blog/assets/js/77.ebb5e006.js"><link rel="prefetch" href="/blog/assets/js/78.463a3566.js"><link rel="prefetch" href="/blog/assets/js/79.25bf57ea.js"><link rel="prefetch" href="/blog/assets/js/8.3cf902c7.js"><link rel="prefetch" href="/blog/assets/js/80.4d3043a3.js"><link rel="prefetch" href="/blog/assets/js/81.e6ac7aff.js"><link rel="prefetch" href="/blog/assets/js/82.39390874.js"><link rel="prefetch" href="/blog/assets/js/83.52a99a2b.js"><link rel="prefetch" href="/blog/assets/js/84.4efad80d.js"><link rel="prefetch" href="/blog/assets/js/85.dce1dc90.js"><link rel="prefetch" href="/blog/assets/js/86.3050d700.js"><link rel="prefetch" href="/blog/assets/js/87.67d7c4e3.js"><link rel="prefetch" href="/blog/assets/js/88.4a3a4132.js"><link rel="prefetch" href="/blog/assets/js/89.861690de.js"><link rel="prefetch" href="/blog/assets/js/9.f2b8862e.js"><link rel="prefetch" href="/blog/assets/js/90.f1cdccba.js"><link rel="prefetch" href="/blog/assets/js/91.3abb6471.js"><link rel="prefetch" href="/blog/assets/js/92.66e441c7.js"><link rel="prefetch" href="/blog/assets/js/93.3ae60e73.js"><link rel="prefetch" href="/blog/assets/js/94.b6f4569f.js"><link rel="prefetch" href="/blog/assets/js/95.81abfad5.js"><link rel="prefetch" href="/blog/assets/js/96.eaafaf11.js"><link rel="prefetch" href="/blog/assets/js/97.f464844d.js"><link rel="prefetch" href="/blog/assets/js/98.5b594a5f.js"><link rel="prefetch" href="/blog/assets/js/99.8a12c6d2.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.76d42078.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/img/EB-logo.png" alt="CcbeanBlog" class="logo"> <span class="site-name can-hide">CcbeanBlog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/pages/4f29ea/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/blog/pages/5bb2dc/" class="nav-link">HTML+CSS</a></li><li class="dropdown-subitem"><a href="/blog/pages/d0b9bd/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/blog/pages/ff6413/" class="nav-link">React</a></li></ul></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/react-learn/" class="nav-link">React使用学习</a></li><li class="dropdown-subitem"><a href="/blog/note/vue2-code/" class="nav-link">Vue2源码探究</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node" class="dropdown-title"><a href="/blog/nodejs/" class="link-title">Node</a> <span class="title" style="display:none;">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Node文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/pages/1cce55/" class="nav-link">基础</a></li><li class="dropdown-subitem"><a href="/blog/pages/be0ea7/" class="nav-link">问题</a></li><li class="dropdown-subitem"><a href="/blog/pages/6e080e/" class="nav-link">框架</a></li></ul></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/data-structures-and-algorithms/" class="nav-link">数据结构与算法</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="打包工具" class="dropdown-title"><a href="/blog/packtool/" class="link-title">打包工具</a> <span class="title" style="display:none;">打包工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>构建工具文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/pages/a542bb/" class="nav-link">webpack</a></li></ul></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/webpack5/" class="nav-link">Webpack5使用学习</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/blog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/pages/3bd9c5/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/4db4cb/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/9f95d1/" class="nav-link">网络</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/c44d61/" class="nav-link">小技巧</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/9c8278/" class="nav-link">杂记</a></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/protocol-buffers/" class="nav-link">Protobuf Buffers</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/ccbeango/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://avatars.githubusercontent.com/u/16501284?v=4"> <div class="blogger-info"><h3>Ccbean</h3> <span>靡不有初，鲜克有终</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/pages/4f29ea/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/blog/pages/5bb2dc/" class="nav-link">HTML+CSS</a></li><li class="dropdown-subitem"><a href="/blog/pages/d0b9bd/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/blog/pages/ff6413/" class="nav-link">React</a></li></ul></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/react-learn/" class="nav-link">React使用学习</a></li><li class="dropdown-subitem"><a href="/blog/note/vue2-code/" class="nav-link">Vue2源码探究</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node" class="dropdown-title"><a href="/blog/nodejs/" class="link-title">Node</a> <span class="title" style="display:none;">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Node文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/pages/1cce55/" class="nav-link">基础</a></li><li class="dropdown-subitem"><a href="/blog/pages/be0ea7/" class="nav-link">问题</a></li><li class="dropdown-subitem"><a href="/blog/pages/6e080e/" class="nav-link">框架</a></li></ul></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/data-structures-and-algorithms/" class="nav-link">数据结构与算法</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="打包工具" class="dropdown-title"><a href="/blog/packtool/" class="link-title">打包工具</a> <span class="title" style="display:none;">打包工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>构建工具文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/pages/a542bb/" class="nav-link">webpack</a></li></ul></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/webpack5/" class="nav-link">Webpack5使用学习</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/blog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/pages/3bd9c5/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/4db4cb/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/9f95d1/" class="nav-link">网络</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/c44d61/" class="nav-link">小技巧</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/9c8278/" class="nav-link">杂记</a></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/protocol-buffers/" class="nav-link">Protobuf Buffers</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/ccbeango/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MySQL</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/4db4cb/" class="sidebar-link">Linux系统目录结构</a></li><li><a href="/blog/pages/1dd124/" class="sidebar-link">Linux下安装phpMyAdmin</a></li><li><a href="/blog/pages/f7f52a/" class="sidebar-link">Linux下搭建LNMP环境</a></li><li><a href="/blog/pages/688f50/" class="sidebar-link">小视频笔记（一）</a></li><li><a href="/blog/pages/443d99/" aria-current="page" class="active sidebar-link">小视频笔记（二）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/blog/pages/443d99/#_5-1-vim简介" class="sidebar-link">5.1 Vim简介</a></li><li class="sidebar-sub-header level2"><a href="/blog/pages/443d99/#_5-2-vim工作模式" class="sidebar-link">5.2 Vim工作模式</a></li><li class="sidebar-sub-header level2"><a href="/blog/pages/443d99/#_5-3-常用操作" class="sidebar-link">5.3 常用操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_5-3-1-插入命令" class="sidebar-link">5.3.1 插入命令</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_5-3-2-定位命令" class="sidebar-link">5.3.2 定位命令</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_5-3-3-删除命令" class="sidebar-link">5.3.3 删除命令</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_5-3-4-复制和剪切命令" class="sidebar-link">5.3.4 复制和剪切命令</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_5-3-5-替换和取消命令" class="sidebar-link">5.3.5 替换和取消命令</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_5-3-6-搜索和搜索替换命" class="sidebar-link">5.3.6 搜索和搜索替换命</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_5-3-7-存和退出命令" class="sidebar-link">5.3.7 存和退出命令</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/443d99/#_5-4-使用技巧" class="sidebar-link">5.4 使用技巧</a></li><li class="sidebar-sub-header level2"><a href="/blog/pages/443d99/#_6-1-软件包管理简介" class="sidebar-link">6.1 软件包管理简介</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_6-1-1-软件包分类和各自优缺点" class="sidebar-link">6.1.1 软件包分类和各自优缺点</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/443d99/#_6-2-rpm包管理" class="sidebar-link">6.2 RPM包管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_6-2-1-rpm命令管理" class="sidebar-link">6.2.1 RPM命令管理</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_6-2-2-rpm包依赖性" class="sidebar-link">6.2.2 RPM包依赖性</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_6-2-3-安装升级和卸载" class="sidebar-link">6.2.3 安装升级和卸载</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_6-2-4-rpm包查询" class="sidebar-link">6.2.4 RPM包查询</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_6-2-5-检验与文件提取" class="sidebar-link">6.2.5 检验与文件提取</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/443d99/#_6-3-yum在线管理" class="sidebar-link">6.3 yum在线管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_6-3-1-网络yum源" class="sidebar-link">6.3.1 网络yum源</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_6-3-2-常用yum命令" class="sidebar-link">6.3.2 常用yum命令</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_6-3-3-yum软件组管理命令" class="sidebar-link">6.3.3 yum软件组管理命令</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_6-3-4-光盘yum源" class="sidebar-link">6.3.4 光盘yum源</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_6-3-5-源码包和rpm包的区别" class="sidebar-link">6.3.5 源码包和rpm包的区别</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/443d99/#_7-1-用户配置文件" class="sidebar-link">7.1 用户配置文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_7-1-1-用户信息文件" class="sidebar-link">7.1.1 用户信息文件</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_7-1-2-影子文件" class="sidebar-link">7.1.2 影子文件</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_7-1-3-组信息文件和组密码文件" class="sidebar-link">7.1.3 组信息文件和组密码文件</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/443d99/#_7-2-用户管理相关文件" class="sidebar-link">7.2 用户管理相关文件</a></li><li class="sidebar-sub-header level2"><a href="/blog/pages/443d99/#_7-3-用户管理命令" class="sidebar-link">7.3 用户管理命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_7-3-1-用户添加命令-useradd" class="sidebar-link">7.3.1 用户添加命令 useradd</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_7-3-2-修改用户密码passwd" class="sidebar-link">7.3.2 修改用户密码passwd</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_7-3-3-修改用户信息和修改用户密码状态" class="sidebar-link">7.3.3 修改用户信息和修改用户密码状态</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_7-3-4-删除用户" class="sidebar-link">7.3.4 删除用户</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/443d99/#_7-3-5-切换用户身份su" class="sidebar-link">7.3.5 切换用户身份su</a></li></ul></li></ul></li><li><a href="/blog/pages/fb6e6e/" class="sidebar-link">小视频笔记（三）</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>杂记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>系列笔记</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/blog/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/blog/more/#更多" data-v-06225672>更多</a></li><li data-v-06225672><a href="/blog/more/#Linux" data-v-06225672>Linux</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/ccbeango" target="_blank" title="作者" class="beLink" data-v-06225672>ccbean</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2018-03-30</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">小视频笔记（二）<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="小视频笔记-二"><a href="#小视频笔记-二" class="header-anchor">#</a> 小视频笔记（二）</h1> <h1 id="_5-文本编辑器vim"><a href="#_5-文本编辑器vim" class="header-anchor">#</a> 5.文本编辑器Vim</h1> <h2 id="_5-1-vim简介"><a href="#_5-1-vim简介" class="header-anchor">#</a> 5.1 Vim简介</h2> <p>Vim是一个功能强大的全屏幕文本编辑器，是Linux/UNIX上最常用的文本编辑器，它的作用是建立、编辑、显示文本文件。</p> <p><strong>Vim 没有菜单，只有命令。</strong></p> <h2 id="_5-2-vim工作模式"><a href="#_5-2-vim工作模式" class="header-anchor">#</a> 5.2 Vim工作模式</h2> <p><img src="https://cdn.jsdelivr.net/gh/ccbeango/blogImages/Linux/linux%E5%B0%8F%E8%A7%86%E9%A2%9102.png" alt=""></p> <h2 id="_5-3-常用操作"><a href="#_5-3-常用操作" class="header-anchor">#</a> 5.3 常用操作</h2> <h3 id="_5-3-1-插入命令"><a href="#_5-3-1-插入命令" class="header-anchor">#</a> 5.3.1 插入命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td>a</td> <td>在光标所在字符后插入</td></tr> <tr><td>A</td> <td>在光标所在行尾插入</td></tr> <tr><td>i</td> <td>在光标所在字符前插入</td></tr> <tr><td>I</td> <td>在光标所在行行首插入</td></tr> <tr><td>o</td> <td>在光标下插入新航</td></tr> <tr><td>O</td> <td>在光标上插入新航</td></tr></tbody></table> <h3 id="_5-3-2-定位命令"><a href="#_5-3-2-定位命令" class="header-anchor">#</a> 5.3.2 定位命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td>: set nu</td> <td>设置行号</td></tr> <tr><td>: set nonu</td> <td>取消行号</td></tr> <tr><td>gg/G</td> <td>到第一行/到最后一行</td></tr> <tr><td>nG</td> <td>到第n行</td></tr> <tr><td>: nG</td> <td>到第n行</td></tr> <tr><td>$</td> <td>移至行尾</td></tr> <tr><td>0</td> <td>移至行首</td></tr></tbody></table> <h3 id="_5-3-3-删除命令"><a href="#_5-3-3-删除命令" class="header-anchor">#</a> 5.3.3 删除命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td>x</td> <td>删除光标所在处字符</td></tr> <tr><td>nx</td> <td>删除光标所在处后n个字符</td></tr> <tr><td>dd</td> <td>删除光标所在行，ndd删除n行</td></tr> <tr><td>dG</td> <td>删除光标所在行到文件末尾内容</td></tr> <tr><td>D</td> <td>删除光标所在处到行尾内容</td></tr> <tr><td>:n1,n2d</td> <td>删除指定范围的行</td></tr></tbody></table> <h3 id="_5-3-4-复制和剪切命令"><a href="#_5-3-4-复制和剪切命令" class="header-anchor">#</a> 5.3.4 复制和剪切命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td>yy</td> <td>复制当前行</td></tr> <tr><td>nyy</td> <td>复制当前行以下n行</td></tr> <tr><td>dd</td> <td>剪切当前行</td></tr> <tr><td>ndd</td> <td>剪切当前行以下n行</td></tr> <tr><td>p、P</td> <td>粘贴在当前光标所在行下或行上</td></tr></tbody></table> <h3 id="_5-3-5-替换和取消命令"><a href="#_5-3-5-替换和取消命令" class="header-anchor">#</a> 5.3.5 替换和取消命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td>r</td> <td>取代光标所在处字符</td></tr> <tr><td>R</td> <td>从光标所在处开始替换字符，按Esc结束</td></tr> <tr><td>u</td> <td>取消上一步操作</td></tr></tbody></table> <h3 id="_5-3-6-搜索和搜索替换命"><a href="#_5-3-6-搜索和搜索替换命" class="header-anchor">#</a> 5.3.6 搜索和搜索替换命</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td>/string</td> <td>搜索指定字符串；搜索时忽略大小写<code>:set ic</code></td></tr> <tr><td>n</td> <td>搜索指定字符串的下一个出现位置</td></tr> <tr><td>:%s/old/new/g</td> <td>全文替换指定字符串</td></tr> <tr><td>:n1,n2s/old/new/g</td> <td>在一定范围内替换指定字符串</td></tr></tbody></table> <h3 id="_5-3-7-存和退出命令"><a href="#_5-3-7-存和退出命令" class="header-anchor">#</a> 5.3.7 存和退出命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td>:w</td> <td>保存修改</td></tr> <tr><td>:w new_filename</td> <td>另存为指定文件</td></tr> <tr><td>:wq</td> <td>保存修改并退出</td></tr> <tr><td>ZZ</td> <td>快捷键，保存修改并退出</td></tr> <tr><td>:q!</td> <td>不保存修改退出</td></tr> <tr><td>:wq!</td> <td>保存修改并退出（文件所有者及root可使用）</td></tr></tbody></table> <h2 id="_5-4-使用技巧"><a href="#_5-4-使用技巧" class="header-anchor">#</a> 5.4 使用技巧</h2> <p><img src="https://cdn.jsdelivr.net/gh/ccbeango/blogImages/Linux/linux%E5%B0%8F%E8%A7%86%E9%A2%9103.png" alt=""></p> <p><strong>注：</strong></p> <ul><li><code>:r 文件路径</code> 可以直接把文件导入光标所在的文件</li> <li>设置好的快捷键在重启之后会失效，可以在宿主目录下创建vim的配置文件，用户的家目录下，文件名字叫做<code>.vimrc</code></li> <li>普通用户在<code>/home/username/.vimrc</code>；Root用户在 <code>/root/.vimrc</code></li></ul> <h1 id="_6-软件包管理"><a href="#_6-软件包管理" class="header-anchor">#</a> 6 软件包管理</h1> <h2 id="_6-1-软件包管理简介"><a href="#_6-1-软件包管理简介" class="header-anchor">#</a> 6.1 软件包管理简介</h2> <h3 id="_6-1-1-软件包分类和各自优缺点"><a href="#_6-1-1-软件包分类和各自优缺点" class="header-anchor">#</a> 6.1.1 软件包分类和各自优缺点</h3> <p>分类：</p> <ul><li>源码包</li> <li>二进制包（RPM包、系统默认包）</li></ul> <p><strong>源码包</strong></p> <p>优点：</p> <ul><li>开源，如果有足够的能力，可以修改源代码</li> <li>可以自由选择所需的功</li> <li>能软件是编译安装，所以更加适合自己的系统，更加稳定也效率更高卸载方便</li> <li>卸载方便</li></ul> <p>缺点：</p> <ul><li>安装过程步骤较多，尤其安装较大的软件集合时(如LAMP环境搭建)，容易出现拼写错误</li> <li>编译过程时间较长，安装比二进制安装时间长</li> <li>因为是编译安装，安装过程中一旦报错新手很难解决</li></ul> <p><strong>RPM包（二进制包）</strong></p> <p>优点：</p> <ul><li>包管理系统简单，只通过几个命令就可以实现包的安装、升级、查询和卸载</li> <li>安装速度比源码包安装快的多</li></ul> <p>缺点：</p> <ul><li>经过编译，不再可以看到源代码</li> <li>功能选择不如源码包灵活</li> <li>依赖性</li></ul> <h2 id="_6-2-rpm包管理"><a href="#_6-2-rpm包管理" class="header-anchor">#</a> 6.2 RPM包管理</h2> <h3 id="_6-2-1-rpm命令管理"><a href="#_6-2-1-rpm命令管理" class="header-anchor">#</a> 6.2.1 RPM命令管理</h3> <p>RPM包命名原则：<code>httpd-2.2.15-15.el6.centos.1.i686.rpm</code></p> <table><thead><tr><th>字段</th> <th>含义</th></tr></thead> <tbody><tr><td>httpd</td> <td>软件包名</td></tr> <tr><td>2.2.15</td> <td>软件版本</td></tr> <tr><td>15</td> <td>软件发布的次数</td></tr> <tr><td>el6.centos</td> <td>适合的Linux平台</td></tr> <tr><td>i686</td> <td>适合的硬件平台；<code>noarch</code>或者没有写，表示适合所有的硬件平台</td></tr> <tr><td>rpm</td> <td>rpm包扩展名</td></tr></tbody></table> <h3 id="_6-2-2-rpm包依赖性"><a href="#_6-2-2-rpm包依赖性" class="header-anchor">#</a> 6.2.2 RPM包依赖性</h3> <p>包依赖性分为三种：</p> <ol><li>树形依赖： <code>a-&gt;b-&gt;c</code>； 安装顺序是cba，卸载顺序是abc</li> <li>环形依赖：<code>a-&gt;b-&gt;c-&gt;a</code> ；这种依赖关系的解决办法是abc一条命令同时安装</li> <li>模块依赖： <a href="http://www.rpmfind.net/" target="_blank" rel="noopener noreferrer">模块依赖查询网站<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <p>==这种方案可以安装包，但是依赖问题很难解决，更好的方案是使用yum安装==</p> <h3 id="_6-2-3-安装升级和卸载"><a href="#_6-2-3-安装升级和卸载" class="header-anchor">#</a> 6.2.3 安装升级和卸载</h3> <h3 id="_6-2-4-rpm包查询"><a href="#_6-2-4-rpm包查询" class="header-anchor">#</a> 6.2.4 RPM包查询</h3> <h3 id="_6-2-5-检验与文件提取"><a href="#_6-2-5-检验与文件提取" class="header-anchor">#</a> 6.2.5 检验与文件提取</h3> <h2 id="_6-3-yum在线管理"><a href="#_6-3-yum在线管理" class="header-anchor">#</a> 6.3 yum在线管理</h2> <h3 id="_6-3-1-网络yum源"><a href="#_6-3-1-网络yum源" class="header-anchor">#</a> 6.3.1 网络yum源</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">vim</span> /etc/yum.repos.d/CentOS-Base.repo
<span class="token comment"># CentOS-Base.repo</span>
<span class="token comment">#</span>
<span class="token comment"># The mirror system uses the connecting IP address of the client and the</span>
<span class="token comment"># update status of each mirror to pick mirrors that are updated to and</span>
<span class="token comment"># geographically close to the client.  You should use this for CentOS updates</span>
<span class="token comment"># unless you are manually picking other mirrors.</span>
<span class="token comment">#</span>
<span class="token comment"># If the mirrorlist= does not work for you, as a fall back you can try the </span>
<span class="token comment"># remarked out baseurl= line instead.</span>
<span class="token comment">#</span>
<span class="token comment">#</span>
<span class="token punctuation">[</span>base<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Base
<span class="token assign-left variable">mirrorlist</span><span class="token operator">=</span>http://mirrorlist.centos.org/?release<span class="token operator">=</span><span class="token variable">$releasever</span><span class="token operator">&amp;</span><span class="token assign-left variable">arch</span><span class="token operator">=</span><span class="token variable">$basearch</span><span class="token operator">&amp;</span><span class="token assign-left variable">repo</span><span class="token operator">=</span>os<span class="token operator">&amp;</span><span class="token assign-left variable">infra</span><span class="token operator">=</span><span class="token variable">$infra</span>
<span class="token comment">#baseurl=http://mirror.centos.org/centos/$releasever/os/$basearch/</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7

<span class="token comment">#released updates </span>
<span class="token punctuation">[</span>updates<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Updates
<span class="token assign-left variable">mirrorlist</span><span class="token operator">=</span>http://mirrorlist.centos.org/?release<span class="token operator">=</span><span class="token variable">$releasever</span><span class="token operator">&amp;</span><span class="token assign-left variable">arch</span><span class="token operator">=</span><span class="token variable">$basearch</span><span class="token operator">&amp;</span><span class="token assign-left variable">repo</span><span class="token operator">=</span>updates<span class="token operator">&amp;</span><span class="token assign-left variable">infra</span><span class="token operator">=</span><span class="token variable">$infra</span>
<span class="token comment">#baseurl=http://mirror.centos.org/centos/$releasever/updates/$basearch/</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7

<span class="token comment">#additional packages that may be useful</span>
<span class="token punctuation">[</span>extras<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Extras
<span class="token assign-left variable">mirrorlist</span><span class="token operator">=</span>http://mirrorlist.centos.org/?release<span class="token operator">=</span><span class="token variable">$releasever</span><span class="token operator">&amp;</span><span class="token assign-left variable">arch</span><span class="token operator">=</span><span class="token variable">$basearch</span><span class="token operator">&amp;</span><span class="token assign-left variable">repo</span><span class="token operator">=</span>extras<span class="token operator">&amp;</span><span class="token assign-left variable">infra</span><span class="token operator">=</span><span class="token variable">$infra</span>
<span class="token comment">#baseurl=http://mirror.centos.org/centos/$releasever/extras/$basearch/</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7

<span class="token comment">#additional packages that extend functionality of existing packages</span>
<span class="token punctuation">[</span>centosplus<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Plus
<span class="token assign-left variable">mirrorlist</span><span class="token operator">=</span>http://mirrorlist.centos.org/?release<span class="token operator">=</span><span class="token variable">$releasever</span><span class="token operator">&amp;</span><span class="token assign-left variable">arch</span><span class="token operator">=</span><span class="token variable">$basearch</span><span class="token operator">&amp;</span><span class="token assign-left variable">repo</span><span class="token operator">=</span>centosplus<span class="token operator">&amp;</span><span class="token assign-left variable">infra</span><span class="token operator">=</span><span class="token variable">$infra</span>
<span class="token comment">#baseurl=http://mirror.centos.org/centos/$releasever/centosplus/$basearch/</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7

</code></pre></div><p>这些容器，默认会使用base 这些默认就是配好的</p> <table><thead><tr><th>字段</th> <th>含义</th></tr></thead> <tbody><tr><td>[base]</td> <td>容器名称，一定要放在[]中</td></tr> <tr><td>name</td> <td>容器说明，可以自己随便写点什么</td></tr> <tr><td>mirrorlist</td> <td>镜像站点，可以注释掉</td></tr> <tr><td>baseurl</td> <td>我们的yum源服务器的地址。默认是CentOS官方的yum源服务器，是可以使用的，如果你觉得慢可以改成你喜欢的yum源地址</td></tr> <tr><td>enabled</td> <td>此容器是否生效，如果不写或写成enable=1都是生效，写成enable=0就是不生效</td></tr> <tr><td>gpgcheck</td> <td>如果是1是指RPM的数字证书生效，如果是0则不生效</td></tr> <tr><td>gpgkey</td> <td>数字证书的公钥文件保存位置。不用修改</td></tr></tbody></table> <h3 id="_6-3-2-常用yum命令"><a href="#_6-3-2-常用yum命令" class="header-anchor">#</a> 6.3.2 常用yum命令</h3> <ol><li><p>查询</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#查询所有可用软件包列表</span>
$ yum list 
apr-devel.x86_64                         <span class="token number">1.4</span>.8-3.el7_4.1                @updates
apr-util.x86_64   <span class="token punctuation">(</span>软件包<span class="token punctuation">)</span>                <span class="token number">1.5</span>.2-6.el7 <span class="token punctuation">(</span>版本号<span class="token punctuation">)</span>            @base <span class="token punctuation">(</span>容器<span class="token punctuation">)</span>   
apr-util-devel.x86_64                    <span class="token number">1.5</span>.2-6.el7                    @base   
audit.x86_64                             <span class="token number">2.7</span>.6-3.el7                    @base   
audit-libs.i686                          <span class="token number">2.7</span>.6-3.el7                    @base   
audit-libs.x86_64                        <span class="token number">2.7</span>.6-3.el7                    @base 

<span class="token comment">#搜索服务器上所有和关键字相关的包</span>
$ yum search 关键字
</code></pre></div></li> <li><p>安装</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># install 安装 -y 自动回答yes</span>
$ yum –y <span class="token function">install</span> 包名
</code></pre></div></li> <li><p>升级</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ yum <span class="token parameter variable">-y</span> update 包名
</code></pre></div><p>yum –y update 如果不加包名，就是升级linux中所有的软件包，包括linux内核等都会升级，小心。如果升级，后面请跟包名。</p></li> <li><p>卸载</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ yum <span class="token parameter variable">-y</span> remove 包名
</code></pre></div><p>卸载也要慎用，卸载包a会把所有的依赖包都卸载，当然这些依赖包也可能被其他包使用，或被系统使用，这样在卸载a之后可能会出现很多问题。用什么装什么，尽量不卸载</p></li></ol> <h3 id="_6-3-3-yum软件组管理命令"><a href="#_6-3-3-yum软件组管理命令" class="header-anchor">#</a> 6.3.3 yum软件组管理命令</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 列出所有可用的软件组列表</span>
$ yum grouplist

<span class="token comment"># 安装指定软件组，组名可以由grouplist查询出来</span>
$ yum grouopinstall 软件组名

<span class="token comment"># 卸载指定软件组</span>
$ yum groupremove 软件组名
</code></pre></div><p>注： 软件组名要用双引号引起来</p> <h3 id="_6-3-4-光盘yum源"><a href="#_6-3-4-光盘yum源" class="header-anchor">#</a> 6.3.4 光盘yum源</h3> <p>搭建步骤：</p> <ol><li><p>挂载光盘</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">mount</span> /dev/cdrom /mnt/cdrom/
</code></pre></div></li> <li><p>让网络yum源失效</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token builtin class-name">cd</span> /etc/yum.repos.d/
$ <span class="token function">mv</span> CentOS-Base.repo <span class="token punctuation">\</span> CentOS-Base.repo.bak
$ <span class="token function">mv</span> CentOS-Debuginfo.repo <span class="token punctuation">\</span>CentOS-Debuginfo.repo.bak
$ <span class="token function">mv</span> CentOS-Vault.repo <span class="token punctuation">\</span> CentOS-V ault.repo.bak
</code></pre></div></li> <li><p>修改光盘yum源文件</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">vim</span> CentOS-Media.repo <span class="token punctuation">[</span>c6-media<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Media <span class="token assign-left variable">baseurl</span><span class="token operator">=</span>file:///mnt/cdrom <span class="token comment">#地址为你自己的光盘挂载地址</span>
<span class="token comment"># file:///media/cdrom/</span>
<span class="token comment"># file:///media/cdrecorder/</span>
<span class="token comment">#注释这两个不存在的地址</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span> <span class="token comment">#把enabled=0改为enabled=1，让这个yum源配置文件生效 </span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6  <span class="token comment"># /// 第三个斜杠是根目录</span>
</code></pre></div></li></ol> <h3 id="_6-3-5-源码包和rpm包的区别"><a href="#_6-3-5-源码包和rpm包的区别" class="header-anchor">#</a> 6.3.5 源码包和rpm包的区别</h3> <ol><li><p>两者的区别在于安装之前概念上的区别（上面已讲）和安装之后安装位置不同：</p> <p><strong>RPM包安装位置：</strong></p> <p>是安装在默认位置中，RPM包默认安装路径是：</p> <table><thead><tr><th>/etc/</th> <th>配置文件安装目录</th></tr></thead> <tbody><tr><td>/usr/bin/</td> <td>可执行的命令安装目录</td></tr> <tr><td>/usr/lib/</td> <td>程序所使用的函数库保存位置</td></tr> <tr><td>/usr/share/doc/</td> <td>基本的软件使用手册保存位置</td></tr> <tr><td>/usr/share/man/</td> <td>帮助文件保存位置</td></tr></tbody></table> <p>==所有的rpm包安装基本都遵守这个安装位置==</p> <p>**源码包安装位置：**安装在指定位置当中，一般是<code>/usr/local/软件名/</code></p></li> <li><p>安装位置不同带来的影响</p> <p>RPM包安装的服务可以使用系统服务管理命令(service)来管理，不需要再配置；源码包安装可以直接使用绝对路径来进行服务的管理，或者自己去配置service来管理。</p></li></ol> <h1 id="_7-用户和用户组管理"><a href="#_7-用户和用户组管理" class="header-anchor">#</a> 7 用户和用户组管理</h1> <h2 id="_7-1-用户配置文件"><a href="#_7-1-用户配置文件" class="header-anchor">#</a> 7.1 用户配置文件</h2> <p>越是对服务器安全性要求高的服务器，越需要建立合理的用户权限等级制度和服务器操作规范。</p> <p>在Linux中主要是通过用户配置文件来查看和修改用户信息。</p> <h3 id="_7-1-1-用户信息文件"><a href="#_7-1-1-用户信息文件" class="header-anchor">#</a> 7.1.1 用户信息文件</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">more</span> /etc/passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
redmine:x:1008:1008::/home/redmine:/bin/bash
saslauth:x:994:76:Saslauthd user:/run/saslauthd:/sbin/nologin
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin
postgres:x:26:26:PostgreSQL Server:/var/lib/pgsql:/bin/bash
lisong:x:1009:1010::/home/lisong:/bin/bash
huarong:x:1010:1011::/home/huarong:/bin/bash
</code></pre></div><p><code>/etc/passwd</code>字段含义：</p> <p>这个文件中每一行代表一个用户，而且每个字段用：分割，总共7个字段</p> <ul><li>第1字段：用户名称</li> <li>第2字段：密码标志早期的密码是直接放在这个文件中的，现在的密码放在了影子文件<code>/etc/shadow</code>，为什么这样做，是因为<code>passwd</code>文件的默认权限是<strong>644</strong>，<code>shadow</code>文件的默认权限是<strong>000</strong>，除了root用户，任何用户都不能读这个文件，增强系统的安全性； <code>x</code>表示需要密码登录，登录的时候回去<code>shadow</code>中找密码进行验证，没<code>x</code>就会认为没有密码，用户可以直接登录，这种登录只允许本机登录，远程是不允许的。</li> <li>第3字段：UID(用户ID)
<ul><li>0	                        超级用户</li> <li>1-499                      系统用户（伪用户） 用户不能登录，不能删除，删除系统会崩溃</li> <li>500-65535              普通用户</li></ul></li> <li>第4字段：GID（用户初始组ID） 每个用户创建时，就会创建出一个同名的初始组，初始组不可或缺，并且每个用户只能有一个初始组，初始组可以改，但只能是一个。初始组并不推荐更改</li> <li>第5字段：用户说明</li> <li>第6字段：家目录
<ul><li>普通用户：<code>/home/用户名/</code></li> <li>超级用户：<code>/root/</code></li></ul></li> <li>第7字段：登录之后的Shell</li></ul> <p><strong>注：</strong></p> <p>初始组和附加组：</p> <ol><li>初始组：	就是指用户一登录就立刻拥有这个用户组的相关权限，每个用户的初始组只能有一个，一般就是和这个用户的用户名相同的组名作为这个用户的初始组。</li> <li>附加组：指用户可以加入多个其他的用户组，并拥有这些组的权限，附加组可以有多个。</li></ol> <p>Shell是什么：</p> <ol><li>Shell就是Linux的命令解释器。命令解释器：比如ls，会通过命令解释器解释传输给内核，内核再做出应答，显示在命令操作窗口。 用户想要和系统交流，都需要有这个命令解释器。</li> <li>在<code>/etc/passwd</code>当中，除了标准Shell是<code>/bin/bash</code>之外，还可以写如<code>/sbin/nologin</code>，<code>/usr/bin/passwd</code>等。</li></ol> <h3 id="_7-1-2-影子文件"><a href="#_7-1-2-影子文件" class="header-anchor">#</a> 7.1.2 影子文件</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">more</span> /etc/shadow
root:<span class="token variable">$6</span><span class="token variable">$hoha7imwDef9ruvl</span><span class="token variable">$7f1TuPB4</span>.fWn7CkAHED3zbM1l3hG4UPEoTJjg2Mrz2dqjhxvCzhMX9RhXtb5y/JJTB32/7HXKcjslj0hLI6Xb1::0:99999:7:::
bin:*:17110:0:99999:7:::
daemon:*:17110:0:99999:7:::
adm:*:17110:0:99999:7:::

</code></pre></div><p><code>/etc/shadow</code>字段含义：</p> <ul><li>第1字段：用户名</li> <li>第2字段：加密密码
<ul><li>加密算法为SHA512散列加密算法。加密的默认为数是512位</li> <li>如果密码是“!!”或“*”代表没有密码，不能登录</li></ul></li> <li>第3字段：密码最后一次修改时间
<ul><li>使用1970年1月1日作为标准时间，每过一天时间戳加1</li></ul></li> <li>第4字段：两次密码的修改间隔时间（和第3字段相比）</li> <li>第5字段:密码有效期(和第3字段相比)</li> <li>第6字段:密码修改到期前的警告天数(和第5字段相比)</li> <li>第7字段：密码过期后的宽限天数（和第5字段相比）
<ul><li> 0:代表密码过期后立即失效</li> <li> -1:则代表密码永远不会失效。</li></ul></li> <li>第8字段:账号失效时间 要用时间戳表示</li> <li>第9字段:保留</li></ul> <p><strong>时间戳换算：</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 把时间戳换算为日期</span>
$ <span class="token function">date</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;1970-01-01 16066 days&quot;</span>

<span class="token comment"># 把日期换算为时间戳</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$((</span>$<span class="token punctuation">(</span>date <span class="token operator">--</span>date<span class="token operator">=</span>&quot;<span class="token number">2014</span><span class="token operator">/</span><span class="token number">01</span><span class="token operator">/</span><span class="token number">06</span>&quot; <span class="token operator">+</span><span class="token operator">%</span>s<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">86400</span><span class="token operator">+</span><span class="token number">1</span><span class="token variable">))</span></span>

</code></pre></div><h3 id="_7-1-3-组信息文件和组密码文件"><a href="#_7-1-3-组信息文件和组密码文件" class="header-anchor">#</a> 7.1.3 组信息文件和组密码文件</h3> <ol><li><p>组信息文件</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">more</span> /etc/group
root:x:0:
bin:x:1:
daemon:x:2:
sys:x:3:
adm:x:4:
tty:x:5:
disk:x:6:
lp:x:7:
mem:x:8:
kmem:x:9:
wheel:x:10:
cdrom:x:11:
mail:x:12:postfix
</code></pre></div><p><code>/etc/group</code>字段含义：</p> <ul><li>第1字段：组名</li> <li>第2字段：组密码标志</li> <li>第3字段：GID</li> <li>第4字段：组中附加用户</li></ul></li> <li><p>组密码文件</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">more</span> /etc/gshadow
root:::
bin:::bin,daemon
daemon:::bin,adm
adm:::adm,daemon
tty:::
disk:::
lp:::daemon
men:::
kmen:::
</code></pre></div><p><code>/etc/gshadow</code>字段含义:</p> <ul><li>第1字段：组名</li> <li>第2字段：组密码</li> <li>第3字段：组管理员用户名</li> <li>第4字段：组中附加用户</li></ul> <p>发现所有的组都没有密码，组密码用的不多，并且不推荐使用。</p> <p>因为设置组密码和组管理员之后，组的管理员可以通过组密码来代替root用户完成添加组用户或者删除组用户，它执行了root用户的部分权限。这样会降低系统的安全性，这些事情本来应该root来做。</p></li></ol> <h2 id="_7-2-用户管理相关文件"><a href="#_7-2-用户管理相关文件" class="header-anchor">#</a> 7.2 用户管理相关文件</h2> <ol><li><p>用户的家目录</p> <ul><li><p>普通用户:/home/用户名/，所有者和所属组都是此用户，权限是700</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ ll /home
total <span class="token number">8</span>
drwx------. <span class="token number">17</span> demo       demo     <span class="token number">4096</span> Mar <span class="token number">19</span> <span class="token number">17</span>:55 demo
drwx------.  <span class="token number">7</span> <span class="token function">git</span>        <span class="token function">git</span>       <span class="token number">222</span> Feb <span class="token number">28</span> <span class="token number">18</span>:25 <span class="token function">git</span>
</code></pre></div></li> <li><p>超级用户:/root/，所有者和所属组都是root用户，权限是550</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ ll <span class="token parameter variable">-d</span> /root
dr-xr-x---. <span class="token number">12</span> root root <span class="token number">4096</span> Apr  <span class="token number">3</span> <span class="token number">11</span>:49 /root
</code></pre></div><p>给的是550，但是权限对root其实没有限制。添加一个用户会自动生成/home/用户名的文件夹。</p> <p>如果把普通用户变成超级用户，修改passwd文件的用户id为0</p></li></ul></li> <li><p>用户的邮箱</p> <p>邮箱路径：<code>/var/spool/mail/用户名</code></p> <p>添加用户时，会自动创建用户邮箱</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ ll /var/spool/mail/
total <span class="token number">9940</span>
-rw-rw----. <span class="token number">1</span> demo       mail        <span class="token number">0</span> Aug <span class="token number">21</span>  <span class="token number">2017</span> demo
-rw-rw----. <span class="token number">1</span> <span class="token function">git</span>        mail        <span class="token number">0</span> Jun <span class="token number">29</span>  <span class="token number">2017</span> <span class="token function">git</span>
-rw-rw----  <span class="token number">1</span> huarong    mail        <span class="token number">0</span> Nov <span class="token number">22</span> 09:59 huarong
-rw-rw----. <span class="token number">1</span> jie        mail        <span class="token number">0</span> Jun <span class="token number">29</span>  <span class="token number">2017</span> jie
-rw-rw----  <span class="token number">1</span> lisong     mail        <span class="token number">0</span> Oct <span class="token number">26</span> 08:59 lisong
-rw-rw----. <span class="token number">1</span> liuyinghao mail        <span class="token number">0</span> Jun <span class="token number">29</span>  <span class="token number">2017</span> liuyinghao
</code></pre></div></li> <li><p>用户模板目录</p> <p>用户模板目录：<code>/etc/skel/</code></p> <p>创建出来的用户会有默认的几个文件，如下，这些文件是在创建用户时自动生成的，是自动从/etc/skel/下拷贝过来的</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">sudo</span> <span class="token function">ls</span> <span class="token parameter variable">-a</span> /home/liuyinghao/
<span class="token builtin class-name">.</span>  <span class="token punctuation">..</span>  .bash_history  .bash_logout  .bash_profile  .bashrc
</code></pre></div><p>如果想要在创建用户时默认添加一个说明文件，可以把说明文件写好放在这个目录下，创建用户时会自动将这些文件生成在用户的家目录下。</p></li></ol> <h2 id="_7-3-用户管理命令"><a href="#_7-3-用户管理命令" class="header-anchor">#</a> 7.3 用户管理命令</h2> <h3 id="_7-3-1-用户添加命令-useradd"><a href="#_7-3-1-用户添加命令-useradd" class="header-anchor">#</a> 7.3.1 用户添加命令 useradd</h3> <ol><li><p>命令格式：<code>useradd [选项] 用户名</code></p> <p>选项说明：</p> <p>​	-u UID:  手工指定用户的UID号</p> <p>​	-d 家目录：手工指定用户的家目录</p> <p>​	-c 用户说明：手工指定用户的说明</p> <p>​	-g 组名：手工指定用户的初始组</p> <p>​	-G 组名：指定用户的附加组</p> <p>​	    -s shell：手工指定用户的登录shell。默认是<code>/bin/bash</code></p></li> <li><p>添加默认用户</p> <p>使用useradd默认会写入到如下文件中信息或创建相应目录</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">useradd</span> lamp
<span class="token comment"># grep &quot;lamp&quot; /etc/passwd </span>
<span class="token comment"># grep &quot;lamp&quot; /etc/shadow </span>
<span class="token comment"># grep &quot;lamp&quot; /etc/group</span>
<span class="token comment"># grep &quot;lamp&quot; /etc/gshadow </span>
<span class="token comment"># ll -d /home/lamp/</span>
<span class="token comment"># ll /var/spool/mail/lamp</span>
</code></pre></div></li> <li><p>指定选项添加用户</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">groupadd</span> wangge
<span class="token function">useradd</span> <span class="token parameter variable">-u</span> <span class="token number">550</span> <span class="token parameter variable">-g</span> wangge <span class="token parameter variable">-G</span> root <span class="token parameter variable">-d</span> /home/wangge <span class="token punctuation">\</span>
<span class="token parameter variable">-c</span> <span class="token string">&quot;test user&quot;</span> <span class="token parameter variable">-s</span> /bin/bash wangge
</code></pre></div><p>上面的操作是：创建用户组<code>wangge</code>；创建用户<code>wangge</code>，并指定用户的的<code>uid</code>为550，用户初始组为<code>wangge</code>，附加组为<code>root</code>（多个附加组用户逗号隔开），用户家目录为<code>/home/wangge</code>,用户说明为&quot;test user&quot;，用户的<code>shell</code>为<code>/bin/bash</code></p></li> <li><p>用户默认值文件</p> <p>用户默认值文件路径：<code>/etc/default/useradd</code></p> <div class="language-shell extra-class"><pre class="language-shell"><code>/etc/default/useradd  
 <span class="token assign-left variable">GROUP</span><span class="token operator">=</span><span class="token number">100</span>              <span class="token comment">#用户默认组  </span>
 <span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/home             <span class="token comment">#用户家目录</span>
 <span class="token assign-left variable">INACTIVE</span><span class="token operator">=</span>-1            <span class="token comment">#密码过期宽限天数(7)</span>
 <span class="token assign-left variable">EXPIRE</span><span class="token operator">=</span>                <span class="token comment">#密码失效时间(8)</span>
 <span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span>/bin/bash        <span class="token comment">#默认shell</span>
 <span class="token assign-left variable">SKEL</span><span class="token operator">=</span>/etc/skel         <span class="token comment">#模板目录</span>
 <span class="token assign-left variable">CREATE_MAIL_SPOOL</span><span class="token operator">=</span>yes  <span class="token comment">#是否建立邮箱</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code>/etc/login.defs
 PASS_MAX_DAYS <span class="token number">99999</span>     <span class="token comment">#密码有效期(5)</span>
 PASS_MIN_DAYS <span class="token number">0</span>         <span class="token comment">#密码修改间隔(4)</span>
 PASS_MIN_LEN <span class="token number">5</span>          <span class="token comment">#密码最小5位(PAM)</span>
 PASS_WARN_AGE <span class="token number">7</span>         <span class="token comment">#密码到期警告(6)</span>
 UID_MIN <span class="token number">500</span>             <span class="token comment">#最小和最大UID范围</span>
 GID_MAX <span class="token number">60000</span>  
 ENCRYPT_METHOD SHA512   <span class="token comment">#加密模式</span>
</code></pre></div></li></ol> <h3 id="_7-3-2-修改用户密码passwd"><a href="#_7-3-2-修改用户密码passwd" class="header-anchor">#</a> 7.3.2 修改用户密码passwd</h3> <ol><li><p>passwd命令格式</p> <p>命令格式：<code>passwd [选项] 用户名</code></p> <p>选项：</p> <p>​	-S       查询用户密码的密码状态。仅root用户可用。看到的信息是	         shadow中的信息</p> <p>​        -l	  暂时锁定用户。仅root用户可用</p> <p>​        -u      解锁用户。仅root用户可用</p> <p>​	-stdin   	可以通过管道符输出的数据作为用户的密码。</p></li> <li><p>查看密码状态</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">passwd</span> <span class="token parameter variable">-S</span> lamp
lamp PS <span class="token number">2013</span>-01-06 <span class="token number">0</span> <span class="token number">99999</span> <span class="token number">7</span> <span class="token parameter variable">-1</span>
<span class="token comment">#用户名密码设定时间(2013-01-06) 密码修改间隔时间(0) #密码有效期(99999) 警告时间(7)密码不失效(-1)</span>
</code></pre></div></li> <li><p>锁定用户和解锁用户</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># passwd -l lamp </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># passwd -u lamp</span>
</code></pre></div><p>锁定用户其实是给密码前加了双感叹号，用户将无法登陆。</p> <p>手动更改添加或删除双感叹号作用是一样的，用户将被锁定。原理是密码字符串加上其他的字符，换算出来的密码肯定发生了变化，用户就无法正常登陆。</p></li> <li><p>使用字符串作为用户的密码</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo &quot;123&quot; | passwd --stdin lamp</span>
</code></pre></div></li></ol> <h3 id="_7-3-3-修改用户信息和修改用户密码状态"><a href="#_7-3-3-修改用户信息和修改用户密码状态" class="header-anchor">#</a> 7.3.3 修改用户信息和修改用户密码状态</h3> <ol><li><p>修改用户信息：<code>usermod [选项] 用户名</code></p> <p>选项说明：</p> <p>​	-u UID：				修改用户的UID号</p> <p>​	-c 用户说明:			修改用户的说明信息</p> <p>​	-G 组名:				修改用户的附加组</p> <p>​	-L:					临时锁定用户(Lock)</p> <p>​	-U:					解锁用户锁定(Unlock)</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#修改用户的说明</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># usermod -c &quot;test user&quot; lamp</span>
<span class="token comment">#把lamp用户加入root组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># usermod -G root lamp </span>
<span class="token comment">#锁定用户</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># usermod -L lamp </span>
<span class="token comment">#解锁用户</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># usermod -U lamp </span>
</code></pre></div></li> <li><p>修改用户密码状态：<code>chage [选项] 用户名</code></p> <p>选项：</p> <p>​	-l: 列出用户的详细密码状态</p> <p>​	-d 日期: 修改密码最后一次更改日期(shadow3字段)</p> <p>​	-m 天数: 两次密码修改间隔(4字段)</p> <p>​	-M 天数: 密码有效期(5字段)</p> <p>​	-W 天数: 密码过期前警告天数(6字段)</p> <p>​	-I 天数: 密码过后宽限天数(7字段)</p> <p>​	-E日期: 账号失效时间(8字段)</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 这个命令其实是把密码修改日期归0了(shadow第3字段),这样用户一登陆就要修改密码</span>
change <span class="token parameter variable">-d</span> <span class="token number">0</span> <span class="token builtin class-name">test</span>
</code></pre></div><p>这些就是shadow中的信息，其实手工修改shadow文件远要比使用这个命令去修改方便</p></li></ol> <h3 id="_7-3-4-删除用户"><a href="#_7-3-4-删除用户" class="header-anchor">#</a> 7.3.4 删除用户</h3> <p>删除用户：<code>userdel [-r] 用户名</code></p> <p>选项：</p> <p>​	-r	删除用户的同时删除用户家目录</p> <p>手工删除用户：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">vi</span> /etc/passwd
<span class="token function">vi</span> /etc/shadow
<span class="token function">vi</span> /etc/group
<span class="token function">vi</span> /etc/gshadow
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/spool/mail/lamp <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /home/lamp/
</code></pre></div><p>查看用户ID</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">id</span> 用户名
</code></pre></div><h3 id="_7-3-5-切换用户身份su"><a href="#_7-3-5-切换用户身份su" class="header-anchor">#</a> 7.3.5 切换用户身份su</h3> <p>语法：<code>su [选项] 用户名</code></p> <p>选项：</p> <p>​	- ： 选项只使用“-”代表连带用户的环境变量一起切换</p> <p>​        -c 命令：仅执行一次命令，而不切换用户身份</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#切换成root</span>
$ <span class="token function">su</span> – root
<span class="token comment">#不切换成root，但是执行useradd命令添加user1用户</span>
$ <span class="token function">su</span> - root <span class="token parameter variable">-c</span> <span class="token string">&quot;useradd user3&quot;</span>
</code></pre></div><p>使用su和sudo是有区别的，使用su切换用户需要输入所切换到的用户的密码，而使用sudo则是当前用户的密码。</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/ccbeango/blog/edit/master/docs/10.更多/07.Linux/05.小视频笔记（二）.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/11/10, 12:11:50</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/blog/pages/688f50/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">小视频笔记（一）</div></a> <a href="/blog/pages/fb6e6e/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">小视频笔记（三）</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/pages/688f50/" class="prev">小视频笔记（一）</a></span> <span class="next"><a href="/blog/pages/fb6e6e/">小视频笔记（三）</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/blog/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/blog/pages/78ad41/"><div>
            阅读精通正则表达式总结
            <!----></div></a> <span class="date">09-29</span></dt></dl><dl><dd>02</dd> <dt><a href="/blog/pages/1e1cbc/"><div>
            项目搭建规范的配置
            <!----></div></a> <span class="date">07-15</span></dt></dl><dl><dd>03</dd> <dt><a href="/blog/pages/4c97eb/"><div>
            Vite的使用
            <!----></div></a> <span class="date">07-03</span></dt></dl> <dl><dd></dd> <dt><a href="/blog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="liuyh940@gamil.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/ccbeango" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://space.bilibili.com/316494239" title="Bilibili" target="_blank" class="iconfont icon-bilibili"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2018-2023
    <span>Ccbeango</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.0ed7b280.js" defer></script><script src="/blog/assets/js/2.7308dfd9.js" defer></script><script src="/blog/assets/js/47.5cf0a7f8.js" defer></script>
  </body>
</html>
