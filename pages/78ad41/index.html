<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>阅读精通正则表达式总结 | CcbeanBlog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/blog/img/favicon.ico">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <meta name="description" content="web技术博客,简洁至上。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,NodeJS,Node,Node.js,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,react,css3,html5,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/blog/assets/css/0.styles.76d42078.css" as="style"><link rel="preload" href="/blog/assets/js/app.0ed7b280.js" as="script"><link rel="preload" href="/blog/assets/js/2.7308dfd9.js" as="script"><link rel="preload" href="/blog/assets/js/14.88ac5afd.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.166b2ca6.js"><link rel="prefetch" href="/blog/assets/js/100.194e839b.js"><link rel="prefetch" href="/blog/assets/js/101.0db39944.js"><link rel="prefetch" href="/blog/assets/js/102.e13c8470.js"><link rel="prefetch" href="/blog/assets/js/103.0ae2f2ee.js"><link rel="prefetch" href="/blog/assets/js/104.a261556e.js"><link rel="prefetch" href="/blog/assets/js/105.4d458a5f.js"><link rel="prefetch" href="/blog/assets/js/106.6d2f15cf.js"><link rel="prefetch" href="/blog/assets/js/107.a770982a.js"><link rel="prefetch" href="/blog/assets/js/108.0be9ce8f.js"><link rel="prefetch" href="/blog/assets/js/109.88d01e84.js"><link rel="prefetch" href="/blog/assets/js/11.faae5f41.js"><link rel="prefetch" href="/blog/assets/js/110.d3186629.js"><link rel="prefetch" href="/blog/assets/js/111.37d2b500.js"><link rel="prefetch" href="/blog/assets/js/112.d94648de.js"><link rel="prefetch" href="/blog/assets/js/113.a7cf5597.js"><link rel="prefetch" href="/blog/assets/js/114.a339354f.js"><link rel="prefetch" href="/blog/assets/js/115.597976cc.js"><link rel="prefetch" href="/blog/assets/js/116.c64f1f49.js"><link rel="prefetch" href="/blog/assets/js/117.bbbbb20b.js"><link rel="prefetch" href="/blog/assets/js/118.c9ba24ea.js"><link rel="prefetch" href="/blog/assets/js/119.25208df7.js"><link rel="prefetch" href="/blog/assets/js/12.782cd676.js"><link rel="prefetch" href="/blog/assets/js/120.2e0a20ad.js"><link rel="prefetch" href="/blog/assets/js/121.7bb8f6f5.js"><link rel="prefetch" href="/blog/assets/js/122.562fe94b.js"><link rel="prefetch" href="/blog/assets/js/123.9562f569.js"><link rel="prefetch" href="/blog/assets/js/124.fd67828f.js"><link rel="prefetch" href="/blog/assets/js/125.3262b310.js"><link rel="prefetch" href="/blog/assets/js/126.c6f106af.js"><link rel="prefetch" href="/blog/assets/js/127.4b7016d1.js"><link rel="prefetch" href="/blog/assets/js/128.b3ac8038.js"><link rel="prefetch" href="/blog/assets/js/129.3ef9af3d.js"><link rel="prefetch" href="/blog/assets/js/13.508b65ad.js"><link rel="prefetch" href="/blog/assets/js/130.4b925feb.js"><link rel="prefetch" href="/blog/assets/js/131.37cb5d18.js"><link rel="prefetch" href="/blog/assets/js/132.76026f1f.js"><link rel="prefetch" href="/blog/assets/js/133.5d3d2938.js"><link rel="prefetch" href="/blog/assets/js/134.89b4fe3b.js"><link rel="prefetch" href="/blog/assets/js/135.dd2731dc.js"><link rel="prefetch" href="/blog/assets/js/136.e5cacc53.js"><link rel="prefetch" href="/blog/assets/js/137.39282e0b.js"><link rel="prefetch" href="/blog/assets/js/138.b3801697.js"><link rel="prefetch" href="/blog/assets/js/15.b4227c88.js"><link rel="prefetch" href="/blog/assets/js/16.98d2ae02.js"><link rel="prefetch" href="/blog/assets/js/17.6f25717f.js"><link rel="prefetch" href="/blog/assets/js/18.ae934359.js"><link rel="prefetch" href="/blog/assets/js/19.ffe2dcb2.js"><link rel="prefetch" href="/blog/assets/js/20.2c614eab.js"><link rel="prefetch" href="/blog/assets/js/21.4b7f3180.js"><link rel="prefetch" href="/blog/assets/js/22.03f8def7.js"><link rel="prefetch" href="/blog/assets/js/23.861aebfe.js"><link rel="prefetch" href="/blog/assets/js/24.e842cb60.js"><link rel="prefetch" href="/blog/assets/js/25.5685dfd1.js"><link rel="prefetch" href="/blog/assets/js/26.9487cf2a.js"><link rel="prefetch" href="/blog/assets/js/27.cd3b98f4.js"><link rel="prefetch" href="/blog/assets/js/28.1010db9b.js"><link rel="prefetch" href="/blog/assets/js/29.cff77b90.js"><link rel="prefetch" href="/blog/assets/js/3.b0a270e2.js"><link rel="prefetch" href="/blog/assets/js/30.d9d88b77.js"><link rel="prefetch" href="/blog/assets/js/31.4c816fae.js"><link rel="prefetch" href="/blog/assets/js/32.c414f2c2.js"><link rel="prefetch" href="/blog/assets/js/33.cae1fde7.js"><link rel="prefetch" href="/blog/assets/js/34.c149f32c.js"><link rel="prefetch" href="/blog/assets/js/35.36ce97e5.js"><link rel="prefetch" href="/blog/assets/js/36.b7c514b6.js"><link rel="prefetch" href="/blog/assets/js/37.d9459ed5.js"><link rel="prefetch" href="/blog/assets/js/38.84d4e80e.js"><link rel="prefetch" href="/blog/assets/js/39.21769d8b.js"><link rel="prefetch" href="/blog/assets/js/4.1de495bd.js"><link rel="prefetch" href="/blog/assets/js/40.ba8b2c33.js"><link rel="prefetch" href="/blog/assets/js/41.dbc723df.js"><link rel="prefetch" href="/blog/assets/js/42.6d7ee2ec.js"><link rel="prefetch" href="/blog/assets/js/43.3065c2de.js"><link rel="prefetch" href="/blog/assets/js/44.95652c6b.js"><link rel="prefetch" href="/blog/assets/js/45.1bfb7eee.js"><link rel="prefetch" href="/blog/assets/js/46.21f42bfd.js"><link rel="prefetch" href="/blog/assets/js/47.5cf0a7f8.js"><link rel="prefetch" href="/blog/assets/js/48.80e7bcba.js"><link rel="prefetch" href="/blog/assets/js/49.75bf925a.js"><link rel="prefetch" href="/blog/assets/js/5.7e93193d.js"><link rel="prefetch" href="/blog/assets/js/50.1a08250f.js"><link rel="prefetch" href="/blog/assets/js/51.63d67d9a.js"><link rel="prefetch" href="/blog/assets/js/52.4527b3c2.js"><link rel="prefetch" href="/blog/assets/js/53.928eb7b1.js"><link rel="prefetch" href="/blog/assets/js/54.b2c8392c.js"><link rel="prefetch" href="/blog/assets/js/55.84f7c241.js"><link rel="prefetch" href="/blog/assets/js/56.6773809d.js"><link rel="prefetch" href="/blog/assets/js/57.aed02421.js"><link rel="prefetch" href="/blog/assets/js/58.16532c6b.js"><link rel="prefetch" href="/blog/assets/js/59.43238c8c.js"><link rel="prefetch" href="/blog/assets/js/6.d42d0f48.js"><link rel="prefetch" href="/blog/assets/js/60.d868f9ec.js"><link rel="prefetch" href="/blog/assets/js/61.8bc02b72.js"><link rel="prefetch" href="/blog/assets/js/62.83e6c8d0.js"><link rel="prefetch" href="/blog/assets/js/63.ade81187.js"><link rel="prefetch" href="/blog/assets/js/64.cc73a529.js"><link rel="prefetch" href="/blog/assets/js/65.d002206a.js"><link rel="prefetch" href="/blog/assets/js/66.f0665b6d.js"><link rel="prefetch" href="/blog/assets/js/67.11c613ec.js"><link rel="prefetch" href="/blog/assets/js/68.8e2479dd.js"><link rel="prefetch" href="/blog/assets/js/69.02772367.js"><link rel="prefetch" href="/blog/assets/js/7.2b3bcb3f.js"><link rel="prefetch" href="/blog/assets/js/70.3545ebb5.js"><link rel="prefetch" href="/blog/assets/js/71.b7c76516.js"><link rel="prefetch" href="/blog/assets/js/72.035b6ee2.js"><link rel="prefetch" href="/blog/assets/js/73.9feda52a.js"><link rel="prefetch" href="/blog/assets/js/74.d62cf235.js"><link rel="prefetch" href="/blog/assets/js/75.db2ada7c.js"><link rel="prefetch" href="/blog/assets/js/76.8569647d.js"><link rel="prefetch" href="/blog/assets/js/77.ebb5e006.js"><link rel="prefetch" href="/blog/assets/js/78.463a3566.js"><link rel="prefetch" href="/blog/assets/js/79.25bf57ea.js"><link rel="prefetch" href="/blog/assets/js/8.3cf902c7.js"><link rel="prefetch" href="/blog/assets/js/80.4d3043a3.js"><link rel="prefetch" href="/blog/assets/js/81.e6ac7aff.js"><link rel="prefetch" href="/blog/assets/js/82.39390874.js"><link rel="prefetch" href="/blog/assets/js/83.52a99a2b.js"><link rel="prefetch" href="/blog/assets/js/84.4efad80d.js"><link rel="prefetch" href="/blog/assets/js/85.dce1dc90.js"><link rel="prefetch" href="/blog/assets/js/86.3050d700.js"><link rel="prefetch" href="/blog/assets/js/87.67d7c4e3.js"><link rel="prefetch" href="/blog/assets/js/88.4a3a4132.js"><link rel="prefetch" href="/blog/assets/js/89.861690de.js"><link rel="prefetch" href="/blog/assets/js/9.f2b8862e.js"><link rel="prefetch" href="/blog/assets/js/90.f1cdccba.js"><link rel="prefetch" href="/blog/assets/js/91.3abb6471.js"><link rel="prefetch" href="/blog/assets/js/92.66e441c7.js"><link rel="prefetch" href="/blog/assets/js/93.3ae60e73.js"><link rel="prefetch" href="/blog/assets/js/94.b6f4569f.js"><link rel="prefetch" href="/blog/assets/js/95.81abfad5.js"><link rel="prefetch" href="/blog/assets/js/96.eaafaf11.js"><link rel="prefetch" href="/blog/assets/js/97.f464844d.js"><link rel="prefetch" href="/blog/assets/js/98.5b594a5f.js"><link rel="prefetch" href="/blog/assets/js/99.8a12c6d2.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.76d42078.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/img/EB-logo.png" alt="CcbeanBlog" class="logo"> <span class="site-name can-hide">CcbeanBlog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/pages/4f29ea/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/blog/pages/5bb2dc/" class="nav-link">HTML+CSS</a></li><li class="dropdown-subitem"><a href="/blog/pages/d0b9bd/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/blog/pages/ff6413/" class="nav-link">React</a></li></ul></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/react-learn/" class="nav-link">React使用学习</a></li><li class="dropdown-subitem"><a href="/blog/note/vue2-code/" class="nav-link">Vue2源码探究</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node" class="dropdown-title"><a href="/blog/nodejs/" class="link-title">Node</a> <span class="title" style="display:none;">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Node文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/pages/1cce55/" class="nav-link">基础</a></li><li class="dropdown-subitem"><a href="/blog/pages/be0ea7/" class="nav-link">问题</a></li><li class="dropdown-subitem"><a href="/blog/pages/6e080e/" class="nav-link">框架</a></li></ul></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/data-structures-and-algorithms/" class="nav-link">数据结构与算法</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="打包工具" class="dropdown-title"><a href="/blog/packtool/" class="link-title">打包工具</a> <span class="title" style="display:none;">打包工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>构建工具文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/pages/a542bb/" class="nav-link">webpack</a></li></ul></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/webpack5/" class="nav-link">Webpack5使用学习</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/blog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/pages/3bd9c5/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/4db4cb/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/9f95d1/" class="nav-link">网络</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/c44d61/" class="nav-link">小技巧</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/9c8278/" class="nav-link">杂记</a></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/protocol-buffers/" class="nav-link">Protobuf Buffers</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/ccbeango/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://avatars.githubusercontent.com/u/16501284?v=4"> <div class="blogger-info"><h3>Ccbean</h3> <span>靡不有初，鲜克有终</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/pages/4f29ea/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/blog/pages/5bb2dc/" class="nav-link">HTML+CSS</a></li><li class="dropdown-subitem"><a href="/blog/pages/d0b9bd/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/blog/pages/ff6413/" class="nav-link">React</a></li></ul></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/react-learn/" class="nav-link">React使用学习</a></li><li class="dropdown-subitem"><a href="/blog/note/vue2-code/" class="nav-link">Vue2源码探究</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node" class="dropdown-title"><a href="/blog/nodejs/" class="link-title">Node</a> <span class="title" style="display:none;">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Node文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/pages/1cce55/" class="nav-link">基础</a></li><li class="dropdown-subitem"><a href="/blog/pages/be0ea7/" class="nav-link">问题</a></li><li class="dropdown-subitem"><a href="/blog/pages/6e080e/" class="nav-link">框架</a></li></ul></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/data-structures-and-algorithms/" class="nav-link">数据结构与算法</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="打包工具" class="dropdown-title"><a href="/blog/packtool/" class="link-title">打包工具</a> <span class="title" style="display:none;">打包工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>构建工具文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/pages/a542bb/" class="nav-link">webpack</a></li></ul></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/webpack5/" class="nav-link">Webpack5使用学习</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/blog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/pages/3bd9c5/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/4db4cb/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/9f95d1/" class="nav-link">网络</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/c44d61/" class="nav-link">小技巧</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/9c8278/" class="nav-link">杂记</a></li><li class="dropdown-item"><h4>系列笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/note/protocol-buffers/" class="nav-link">Protobuf Buffers</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/ccbeango/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/4f29ea/" class="sidebar-link">JS基础</a></li><li><a href="/blog/pages/d96bca/" class="sidebar-link">JS的执行环境及作用域</a></li><li><a href="/blog/pages/2d0326/" class="sidebar-link">JS中原型对象的性质</a></li><li><a href="/blog/pages/00baa5/" class="sidebar-link">关于JSON</a></li><li><a href="/blog/pages/6e22a2/" class="sidebar-link">阅读JavaScript高级程序设计总结</a></li><li><a href="/blog/pages/1e1cbc/" class="sidebar-link">项目搭建规范的配置</a></li><li><a href="/blog/pages/78ad41/" aria-current="page" class="active sidebar-link">阅读精通正则表达式总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/blog/pages/78ad41/#第1章-正则表达式入门" class="sidebar-link">第1章 正则表达式入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#什么是正则表达式" class="sidebar-link">什么是正则表达式</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#行的起始-和-结束" class="sidebar-link">行的起始^和 结束$</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#字符组" class="sidebar-link">字符组 [ ]</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/78ad41/#连字符" class="sidebar-link">连字符</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/78ad41/#排除型字符组" class="sidebar-link">排除型字符组</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#任意字符" class="sidebar-link">任意字符 .</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#多选结构" class="sidebar-link">多选结构 |</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#可选项元素" class="sidebar-link">可选项元素 ?</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#重复出现元素" class="sidebar-link">重复出现元素 + *</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#量词" class="sidebar-link">量词</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#括号及反向引用" class="sidebar-link">括号及反向引用</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#转义符" class="sidebar-link">转义符</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#理解子表达式" class="sidebar-link">理解子表达式</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#更多的例子" class="sidebar-link">更多的例子</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/78ad41/#第二章-入门示例拓展" class="sidebar-link">第二章 入门示例拓展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#匹配正负号的浮点数" class="sidebar-link">匹配正负号的浮点数</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#非捕获型括号" class="sidebar-link">非捕获型括号</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#s的作用" class="sidebar-link">\s的作用</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#修正股票价格" class="sidebar-link">修正股票价格</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#环视功能" class="sidebar-link">环视功能</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#环视功能给数值插入逗号" class="sidebar-link">环视功能给数值插入逗号</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/78ad41/#第三章-正则表达式的特性和流派概览" class="sidebar-link">第三章 正则表达式的特性和流派概览</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#程序中处理正则表达式的方式" class="sidebar-link">程序中处理正则表达式的方式</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#集成式处理" class="sidebar-link">集成式处理</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#程序式和面向对象式" class="sidebar-link">程序式和面向对象式</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#元字符" class="sidebar-link">元字符</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#修饰符" class="sidebar-link">修饰符</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/78ad41/#第四章-正则表达式的匹配原理" class="sidebar-link">第四章 正则表达式的匹配原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#正则表达式的零件" class="sidebar-link">正则表达式的零件</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#匹配基础" class="sidebar-link">匹配基础</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/78ad41/#规则1-优先选择最左端-最靠开头-的匹配结果。" class="sidebar-link">规则1：优先选择最左端（最靠开头）的匹配结果。</a></li><li class="sidebar-sub-header level4"><a href="/blog/pages/78ad41/#规则2-标准量词是匹配优先的" class="sidebar-link">规则2 标准量词是匹配优先的</a></li><li class="sidebar-sub-header level5"><a href="/blog/pages/78ad41/#过度优先匹配" class="sidebar-link">过度优先匹配</a></li><li class="sidebar-sub-header level5"><a href="/blog/pages/78ad41/#先来先服务" class="sidebar-link">先来先服务</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/78ad41/#nfa和dfa" class="sidebar-link">NFA和DFA</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML+CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>系列笔记</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/blog/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/blog/web/#前端" data-v-06225672>前端</a></li><li data-v-06225672><a href="/blog/web/#JavaScript" data-v-06225672>JavaScript</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/ccbeango" target="_blank" title="作者" class="beLink" data-v-06225672>ccbean</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-09-29</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">阅读精通正则表达式总结<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="精通正则表达式"><a href="#精通正则表达式" class="header-anchor">#</a> 精通正则表达式</h1> <p>本书的目的不是提供具体问题的解决办法，而是教会读者利用正则表达式来思考，解决遇到的各种问题。</p> <p><strong>正则表达式不是死板的教条，它更像是门艺术。</strong></p> <h2 id="第1章-正则表达式入门"><a href="#第1章-正则表达式入门" class="header-anchor">#</a> 第1章 正则表达式入门</h2> <h3 id="什么是正则表达式"><a href="#什么是正则表达式" class="header-anchor">#</a> 什么是正则表达式</h3> <p>完整的正则表达式由两种字符构成：特殊字符，如元字符<code>*</code>  和 普通文本字符。</p> <p>类比日常语言，普通字符对应单词，特殊字符对应的就是语法。根据语言规则，按照语法把单词组合起来，就会得到能传达思想的文本。</p> <p>完整的正则表达式由小的构建模块单元（building block unit）组成，每个单独的构建模块都很简单，不过因为它们能够以无穷多种方式组合，将它们结合起来实现特殊目标必须依靠经验。</p> <h3 id="行的起始-和-结束"><a href="#行的起始-和-结束" class="header-anchor">#</a> 行的起始^和 结束$</h3> <p>脱字符号<code>^</code>代表一行的开始； 美元符号<code>$</code>代表一行的结束。</p> <p>脱字符号<code>^</code>和美元符号<code>$</code>的特别之处就在于，<strong>它们匹配的是一个位置，而不是具体的文本。</strong></p> <p>最好能养成按照字符来理解正则表达式的习惯：</p> <ul><li>不要这样：<code>^cat</code>匹配以cat开头的行</li> <li>而要按照字符解读：<strong><code>^cat</code>匹配的是以 c 作为一行的第一个字符，紧接一个 a，紧接一个 t 的文本。</strong></li></ul> <p>这两种理解的结果并无差异，但按照字符来解读更易于明白新遇到的正则表达式的内部逻辑。</p> <p><img src="https://cdn.staticaly.com/gh/ccbeango/blogImages@master/%E7%B2%BE%E9%80%9ARegex/%E7%B2%BE%E9%80%9A%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F1-01.png" alt="精通正则表达式1-01"></p> <h3 id="字符组"><a href="#字符组" class="header-anchor">#</a> 字符组 [ ]</h3> <p>字符组的表达式为<code>[...]</code>，它的作用是列出在某处期望匹配的字符。</p> <p><strong>例子：搜索单词<code>grey</code>或<code>gray</code></strong></p> <p><code>[ea]</code>能够匹配到<code>a</code>或<code>e</code>，所以<code>/gr[ea]y/</code>就是先找到g，跟着是一个r，然后是
一个a或者e，最后是一个y。</p> <p>注意：</p> <ul><li>在字符组以外，普通字符（例如<code>/gr[ae]y/</code>中的 g 和 r）都有<strong>接下来是</strong>（and then）的意思，首先匹配 g，接下来是 r ······</li> <li>在字符组内部，情况完全相反，字符组的内容是在<strong>同一个位置</strong>能够匹配的若干字符，它的意思是<strong>或</strong></li></ul> <h4 id="连字符"><a href="#连字符" class="header-anchor">#</a> 连字符</h4> <p>在<strong>字符组内部</strong>，连字符<code>-</code>表示一个范围，而且允许多重范围，也允许随意组合字符范围和普通文本：</p> <ul><li><code>[0-9]</code>、<code>[a-z]</code>：匹配<strong>一个</strong>数字、匹配<strong>一个</strong>小写字母</li> <li><code>[0-9a-fA-F]</code>：匹配<strong>一个</strong>数字、小写字母 a 到 f或大写字母 A 到 F 。顺序无所谓，即等价于<code>[A-Fa-f0-9]</code></li> <li><code>[0-9A-Z_!.?]</code>：匹配<strong>一个</strong>数字、大写字母、下画线、惊叹号、点号，或问号</li> <li>字符组开头的连字符只是一个普通的连字符号</li></ul> <p>在字符组内部，真正的特殊字符是连字符，在字符组外部的特殊字符在内部仅是普通字符。<strong>可以把字符组看作独立的微型语言。在字符组内部和外部，关于元字符的规定（哪些是元字符，以及它们的意义）是不同的</strong></p> <h4 id="排除型字符组"><a href="#排除型字符组" class="header-anchor">#</a> 排除型字符组</h4> <p>排除型字符组的表达式为<code>[^...]</code>，这个字符组匹配任何未列出的字符，也就是这里列出的是不希望匹配的字符。</p> <p><strong>脱字符号<code>^</code>必须在第一个方括号之后，表示排除，否则它只是一个普通字符。</strong></p> <p>例子：</p> <ul><li><code>[^1-6]</code> 匹配1到6以外的任何字符</li> <li><code>q[^u]</code> 匹配字母 q 后面字母不是 u
<ul><li>可以匹配到单词Iraqi、qasida</li> <li>不可以匹配单词Iraq，<strong>因为一个字符组，即使是排除型字符组，也要匹配一个字符</strong>。如果Iraq后面又空格或者换行符，也可以匹配到。</li></ul></li></ul> <p>请记住，排除型字符组表示：<strong>匹配一个未列出的字符，而不是不要匹配列出的字符。（match a character that's not listed，don't match what is listed）</strong></p> <h3 id="任意字符"><a href="#任意字符" class="header-anchor">#</a> 任意字符 .</h3> <p>点号<code>.</code>用来匹配一个任意字符。它是用来匹配任意字符的字符组的简写。</p> <p>例子：搜索03/19/76、03-19-76或者03.19.76</p> <p>这里，可以用一个明确的字符组<code>[-./]</code>来匹配，也可以使用点号<code>.</code>来匹配</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'03/19/76 03-19-76 03.19.76'</span>

<span class="token comment">// 方法一</span>
<span class="token keyword">const</span> regex1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">03[-./]19[-./]76</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token comment">// match1：['03/19/76', '03-19-76', '03.19.76']</span>
<span class="token keyword">const</span> match1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex1<span class="token punctuation">)</span>

<span class="token comment">// 方法二</span>
<span class="token keyword">const</span> regex2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">03.19.76</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token comment">// match2：['03/19/76', '03-19-76', '03.19.76']</span>
<span class="token keyword">const</span> match2 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex2<span class="token punctuation">)</span>
</code></pre></div><p>方法一更准确。方法二还可以匹配到<code>03x19y76</code>或<code>19 203319 7639</code>等很多其它结果。</p> <p>那么应该如何选择？取决于你对需要检索文本的了解，以及你需要达到的准确程度。</p> <p>一个重要但常见的问题是，<strong>写正则表达式时，我们需要在对欲检索文本的了解程度与检索精确性之间求得平衡</strong>。例如，如果我们知道，针对某个检索文本，<code>/03.19.76/g</code>这个正则表达式基本不可能匹配不期望的结果，那么使用它就是合理的。要想正确使用正则表达式，清楚地了解目标文本是非常重要的。</p> <h3 id="多选结构"><a href="#多选结构" class="header-anchor">#</a> 多选结构 |</h3> <p>竖杠<code>|</code>表示或，可以用它将把不同的子表达式组合成一个总的表达式，而这个总的表达式又能匹配任意的子表达式。</p> <p><code>Rob</code>和<code>Robert</code>是两个子表达式，<code>Rob|Robert</code>就可以匹配其中任意一个正则表达式。在这样的组合中，子表达式被称为<strong>多选分支</strong>（alternative）。</p> <p><strong>例子：搜索单词<code>grey</code>或<code>gray</code></strong></p> <p>字符组方法：<code>/gr[ea]y/</code></p> <p>多选结构：</p> <ul><li><code>/grey|gray/</code></li> <li>或使用括号 <code>/gr(a|e)y/</code>。</li></ul> <p>**括号可以用来界定元字符的作用范围。**多选结构可以包括很多字符，但不能超越括号的界限。</p> <p>其它例子：</p> <ul><li><p><code>/(First|1st) [Ss]treet/</code>，都是<code>st</code>结尾，也可以把前面部分改成<code>/(Fir|1)st/</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'First Street | First street | 1st Street | 1st street'</span>

<span class="token keyword">const</span> regex1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(First|1st) [Ss]treet</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">const</span> match1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match1<span class="token punctuation">)</span>

<span class="token keyword">const</span> regex2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(Fir|1)st [Ss]treet</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">const</span> match2 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex2<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match2<span class="token punctuation">)</span>
</code></pre></div></li> <li><p><code>^(From|Subject|Date):</code>，匹配以From：Subject：或者Date：开头的文本行</p></li></ul> <h3 id="可选项元素"><a href="#可选项元素" class="header-anchor">#</a> 可选项元素 ?</h3> <p>问号<code>?</code>表示之前紧邻的元素出现零次或一次。</p> <p><strong>例子：匹配7月4日，其中月份可写为July或Jul，日子可写为fourth、4th、4</strong></p> <p>正则表达式：<code>/July? (fourth|4(th)?)/</code>，<strong>括号用于界定元字符的作用范围</strong>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'July 4th | July fourth | July 4 | Jul 4th |  Jul 4'</span>

<span class="token keyword">const</span> regex1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">July? (fourth|4(th)?)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">const</span> match1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match1<span class="token punctuation">)</span>
</code></pre></div><h3 id="重复出现元素"><a href="#重复出现元素" class="header-anchor">#</a> 重复出现元素 + *</h3> <p>加号<code>+</code>表示之前紧邻的元素出现一次或多次。</p> <p>星号<code>*</code>表示之前紧邻的元素出现任意多次，或者不出现。</p> <p><strong>例子：匹配HR标签，并且可设置SIZE</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'&lt;HR SIZE=14&gt; &lt;HR SIZE = 14 &gt; &lt;HR SIZE= 14    &gt;'</span>

<span class="token keyword">const</span> regex1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;HR +SIZE *= *[0-9]+ *&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">const</span> match1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match1<span class="token punctuation">)</span>
</code></pre></div><ul><li>使用空格加加号<code>/ +/</code>来匹配HR和SIZE之间的一个空格，空格加星号<code>/ */</code>来匹配后面位置的任意多个空格。</li></ul> <h3 id="量词"><a href="#量词" class="header-anchor">#</a> 量词</h3> <p><strong>问号、加号、星号这三个元字符统称为量词。因为它们限定了所作用元素的匹配次数。</strong></p> <p>每个量词都规定了匹配成功至少需要的次数下限，以及尝试匹配的次数上
限。对某些量词来说，下限是0，对某些量词来说，上限是无穷大。</p> <p>这里还有一种量词是区间量词，它能够使用元字符序列来自定义重复次数的区间，语法为<code>...{min,max}</code>，如<code>...{3, 12}</code>表示能够容许前面的元素重现次数在3到12之间。</p> <table><thead><tr><th>量词</th> <th>次数下限</th> <th>次数上限</th> <th>含义</th></tr></thead> <tbody><tr><td>?</td> <td>无</td> <td>1</td> <td>单次可选</td></tr> <tr><td>*</td> <td>无</td> <td>无</td> <td>任意次数均可</td></tr> <tr><td>+</td> <td>1</td> <td>无</td> <td>至少一次</td></tr> <tr><td>{min, max}</td> <td>min</td> <td>max</td> <td>出现min到max次</td></tr></tbody></table> <h3 id="括号及反向引用"><a href="#括号及反向引用" class="header-anchor">#</a> 括号及反向引用</h3> <p>括号有两种用途：</p> <ul><li>第一种是上面提到的，<strong>界定元字符的作用范围</strong></li> <li>第二种是<strong>记住它们包含的子表达式匹配的文本</strong>，称为<strong>捕获</strong>，然后可以用<strong>反向引用</strong>来调用捕获到的值。</li></ul> <p>反向引用是正则表达式的特性之一，它允许我们<strong>匹配与表达式先前部分匹配的同样文本</strong>。也就是允许我们调用之前捕获到的值。</p> <p>在一个表达式中我们可以使用多个括号。再用<code>\1</code>、<code>\2</code>、<code>\3</code>等来表示第一、第二、第三组括号匹配的文本。括号是按照开括号<code>(</code>从左至右的出现顺序进行
的，所以<code>/([a-z])(0-9)\1\2</code>中的<code>\1</code>代表<code>[a-z]</code>匹配的内容，而<code>\2</code>代表<code>[0-9]</code>匹配的内容。</p> <p><strong>例子：查询重复的单词正则</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'hello hello world, this is a test test, not the theory'</span>

<span class="token keyword">const</span> regex  <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b([a-z]+) +\1\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>

<span class="token keyword">const</span> match <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> match<span class="token punctuation">)</span>
</code></pre></div><h3 id="转义符"><a href="#转义符" class="header-anchor">#</a> 转义符</h3> <p>在字符组外部，使用斜杠加元字符时，如<code>\.</code>，斜杠<code>\</code>表示转义符，它作用的元字符会失去而特殊含义，成为普通字符。</p> <p>特殊的元字符包括：<code>( [ { \ ^ $ | ) ] } ? * + .</code></p> <h3 id="理解子表达式"><a href="#理解子表达式" class="header-anchor">#</a> 理解子表达式</h3> <p>子表达式指的是整个正则表达式中的一部分，通常是括号内的表达式，或者是由<code>|</code>分隔的多选分支。</p> <p>例如，在<code>^(Subject|Date):</code>中，<code>Subject|Date</code>通常被视为一个子表达式。其中的<code>Subject</code>和<code>Date</code>也算得上子表达式。而且，严格说起来，<code>S</code>、<code>u</code>、<code>b</code>、<code>j</code>这些字符，都算子表达式。<code>1-6</code>这样的字符序列并不能算<code>H[1-6] *</code>的子表达式，因为<code>1-6</code>所属的字符组是不可分割的<strong>单元（unit）</strong>。但是，<code>H</code>、<code>[1-6]</code>、<code>·＊</code>都是<code>H[1-6]·*</code>的子表达式。</p> <p>与多选分支不同的是，量词（星号、加号和问号）作用的对象是它们之前紧邻的子表达式。所以<code>mis+pell</code>中的<code>+</code>作用的是<code>s</code>，而不是<code>mis</code>或者<code>is</code>。当然，如果量词之前紧邻的是一个括号包围的子表达式，整个子表达式（无论多复杂）都被视为一个单元。</p> <h3 id="更多的例子"><a href="#更多的例子" class="header-anchor">#</a> 更多的例子</h3> <ol><li><p>匹配程序中的标识符：标识符只包含字母、数字以及下划线，但不能以数字开头。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-zA-Z_][a-zA-Z_0-9]*</span><span class="token regex-delimiter">/</span></span>

<span class="token comment">// 如果标识符长度有限制，如最长32个字符</span>
<span class="token keyword">const</span> regex2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-zA-Z_][a-zA-Z_0-9]{0,31}</span><span class="token regex-delimiter">/</span></span>
</code></pre></div></li> <li><p>匹配引号内的字符串。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 用[^&quot;]匹配除双引号之外的任何字符</span>
<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&quot;[^&quot;]*&quot;</span><span class="token regex-delimiter">/</span></span>
</code></pre></div></li> <li><p>匹配美元金额，可能包含小数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'Shirts $9.45, pants $12, shoes $20'</span>

<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\$[0-9]+(\.[0-9][0-9])?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>

<span class="token keyword">const</span> match <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>匹配时间，12小时制，如<code>09:17 am</code>、<code>12:30 pm</code>，避免匹配不正确时间，如<code>99:33 am</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'09:17 am 12:30 pm 99:33 am'</span>

<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(1[012]|0[1-9]):[0-5][0-9] (am|pm)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>

<span class="token keyword">const</span> match <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>匹配时间，24小时制，如<code>18:17</code>、<code>09:45</code></p> <p><img src="https://cdn.staticaly.com/gh/ccbeango/blogImages@master/%E7%B2%BE%E9%80%9ARegex/%E7%B2%BE%E9%80%9A%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F1-02.png.png" alt="精通正则表达式1-02"></p></li></ol> <h2 id="第二章-入门示例拓展"><a href="#第二章-入门示例拓展" class="header-anchor">#</a> 第二章 入门示例拓展</h2> <h3 id="匹配正负号的浮点数"><a href="#匹配正负号的浮点数" class="header-anchor">#</a> 匹配正负号的浮点数</h3> <p>匹配有正负号的浮点数（正号可省略），小数部分可有可无</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'5.55'</span><span class="token punctuation">,</span> <span class="token string">'-99'</span><span class="token punctuation">,</span><span class="token string">'-0.23'</span><span class="token punctuation">,</span> <span class="token string">'+90.9'</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[+-]?[0-9]+(\.[0-9]*)?$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
str<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> match <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>使用<code>[+-]?</code>处理正负号</li> <li>使用<code>(\.[0-9]*)?</code>处理小数部分</li> <li>开头和结尾的<code>^...$</code>不可省略，以保证匹配结果只包含数字</li></ul> <h3 id="非捕获型括号"><a href="#非捕获型括号" class="header-anchor">#</a> 非捕获型括号</h3> <p><code>()</code>可以用来分组和捕获它包含的子表达式，<code>(?:)</code>只会分组，并不捕获，称为非捕获型括号。</p> <p>例子，捕获温度和单位。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> temperature <span class="token operator">=</span> <span class="token string">'39C'</span>

<span class="token comment">// 不使用非捕获行括号，CF两端的括号排在第3位，它匹配的文本会保存在$3中</span>
<span class="token keyword">const</span> regex1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^([+-]?[0-9]+(\.[0-9]*)?)([CF])$</span><span class="token regex-delimiter">/</span></span>
<span class="token keyword">const</span> match1 <span class="token operator">=</span> temperature<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex1<span class="token punctuation">,</span> <span class="token string">'温度：$1 单位: $3'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'match1'</span><span class="token punctuation">,</span> match1<span class="token punctuation">)</span>

<span class="token comment">// 使用非捕获行括号，CF两端的括号虽然排在第3位，但它匹配的文本会保存在$2中</span>
<span class="token keyword">const</span> regex2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^([+-]?[0-9]+(?:\.[0-9]*)?)([CF])$</span><span class="token regex-delimiter">/</span></span>
<span class="token keyword">const</span> match2 <span class="token operator">=</span> temperature<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex2<span class="token punctuation">,</span> <span class="token string">'温度：$1 单位: $2'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'match2'</span><span class="token punctuation">,</span> match2<span class="token punctuation">)</span>
</code></pre></div><h3 id="s的作用"><a href="#s的作用" class="header-anchor">#</a> \s的作用</h3> <p>元字符 &quot;\s&quot; 可以匹配一个空白，包括空格、制表符、换页符和换行符。</p> <p>通常使用<code>\s*</code>表示任意多个空白字符。</p> <p>那么，上面温度的单位之间可以有空格，表示就是</p> <p><code>/^([+-]?[0-9]+(?:\.[0-9]*)?)\s*([CF])$/</code></p> <p>如果C或F接收不区分大小写，可以使用修饰符<code>i</code>，表示就是</p> <p><code>/^([+-]?[0-9]+(?:\.[0-9]*)?)\s*([CF])$/i</code></p> <p>代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^([+-]?[0-9]+(?:\.[0-9]*)?)\s*([CF])$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>

<span class="token keyword">const</span> temperature1 <span class="token operator">=</span> <span class="token string">'39C'</span>
<span class="token keyword">const</span> match <span class="token operator">=</span> temperature1<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">'温度：$1 单位: $2'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> match<span class="token punctuation">)</span>

<span class="token keyword">const</span> temperature2 <span class="token operator">=</span> <span class="token string">'39 F'</span>
<span class="token keyword">const</span> match2 <span class="token operator">=</span> temperature2<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">'温度：$1 单位: $2'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'match2'</span><span class="token punctuation">,</span> match2<span class="token punctuation">)</span>

<span class="token keyword">const</span> temperature3 <span class="token operator">=</span> <span class="token string">'39 f'</span>
<span class="token keyword">const</span> match3 <span class="token operator">=</span> temperature3<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">'温度：$1 单位: $2'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'match3'</span><span class="token punctuation">,</span> match3<span class="token punctuation">)</span>
</code></pre></div><h3 id="修正股票价格"><a href="#修正股票价格" class="header-anchor">#</a> 修正股票价格</h3> <p>修正价格，通常是保留小数点后两位数字，如果第三位不为零，也需要保留，去掉其他的数字。结果就是12.375000000392或者12.375会被修正为“12.375”，而37.500被修正为“37.50”。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\.\d\d[1-9]?)\d*</span><span class="token regex-delimiter">/</span></span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'12.375000000392'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">'$1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'12.375'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">'$1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'37.500'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">'$1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>最开始的<code>\.</code>匹配小数点。接下来的<code>\d\d</code>匹配开头的两位数字，
<code>[1-9]?</code>」匹配可能跟在后面的非零数字。到这里，任何匹配的文本都是我们希望保留的，所以用括号把它保存到<code>$1</code>中。</p> <p>之后替换文本可以直接使用<code>$1</code>。末尾的<code>\d*</code>用来匹配其余的多余数字。</p> <h3 id="环视功能"><a href="#环视功能" class="header-anchor">#</a> 环视功能</h3> <p>环视与单词分界符<code>\b</code>、锚点<code>^</code>和<code>$</code>相似，<strong>只匹配文本中特定位置，不匹配任何字符</strong>。</p> <p><img src="https://cdn.staticaly.com/gh/ccbeango/blogImages@master/%E7%B2%BE%E9%80%9ARegex/%E7%B2%BE%E9%80%9A%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F1-03.png" alt="精通正则表达式1-03"></p> <p>环视尝试匹配子表达式，在检查子表达式能否匹配的过程中，它们本身不会“占用”任何文本。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'...by Jeffrey Friedl.'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Jeffrey</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> regex2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=Jeffrey)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// regex 可以匹配到 Jeffrey 本身</span>
<span class="token keyword">const</span> match <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'match'</span><span class="token punctuation">,</span> match<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// regex2 匹配到右侧是Jeffrey标记的位置，即Jeffrey左侧</span>
<span class="token keyword">const</span> match2 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex2<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'match2'</span><span class="token punctuation">,</span> match2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>/Jeffrey/</code>匹配结果：</p> <p><img src="https://cdn.staticaly.com/gh/ccbeango/blogImages@master/%E7%B2%BE%E9%80%9ARegex/%E7%B2%BE%E9%80%9A%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F1-04.png" alt="精通正则表达式1-04"></p> <p><code>/(?=Jeffrey)/</code>匹配结果：</p> <p><img src="https://cdn.staticaly.com/gh/ccbeango/blogImages@master/%E7%B2%BE%E9%80%9ARegex/%E7%B2%BE%E9%80%9A%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F1-05.png" alt="精通正则表达式1-05"></p> <p>顺序环视会检查子表达式能否匹配，但它只寻找能够匹配的位置，而不会真正“占用”这些字符。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'...by Jeffrey Friedl.'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> str2 <span class="token operator">=</span> <span class="token string">'...by Thomas Jefferson.'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=Jeffrey)Jeff</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>


<span class="token comment">// 能匹配到Jeff</span>
<span class="token keyword">const</span> match1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'match1'</span><span class="token punctuation">,</span> match1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 不能匹配到Jeff</span>
<span class="token keyword">const</span> match2 <span class="token operator">=</span> str2<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'match2'</span><span class="token punctuation">,</span> match2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>先匹配到右侧是Jefferey的位置，然后再匹配Jeff；str2中因为没有Jeffrey，而是Jefferson，虽然能匹配到Jeff，但不存在<code>(?=Jeffrey)</code>能匹配的位置，所以整个表达式无法匹配。</p> <p><img src="https://cdn.staticaly.com/gh/ccbeango/blogImages@master/%E7%B2%BE%E9%80%9ARegex/%E7%B2%BE%E9%80%9A%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F1-06.png" alt="精通正则表达式1-06"></p> <p>把<code>Jeffs</code>替换为<code>Jeff's</code>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'Jeffs and Jeffs'</span><span class="token punctuation">;</span>

<span class="token comment">// 方法1</span>
<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\bJeffs\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">const</span> res1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">&quot;Jeff's&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'res1'</span><span class="token punctuation">,</span> res1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 方法2</span>
<span class="token keyword">const</span> regex2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b(Jeff)(s)\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">const</span> res2 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex2<span class="token punctuation">,</span> <span class="token string">&quot;$1'$2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'res2'</span><span class="token punctuation">,</span> res2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 方法3</span>
<span class="token keyword">const</span> regex3 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\bJeff(?=s\b)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">const</span> res3 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex3<span class="token punctuation">,</span> <span class="token string">&quot;Jeff'&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'res3'</span><span class="token punctuation">,</span> res3<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 方法4</span>
<span class="token keyword">const</span> regex4 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=\bJeff)(?=s\b)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">const</span> res4 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex4<span class="token punctuation">,</span> <span class="token string">&quot;'&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'res4'</span><span class="token punctuation">,</span> res4<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>方法3：<code>Jeff</code>匹配之后，接下来尝试的就是顺序环视。只有当<code>s\b</code>在此位置能够匹配时（也就是<code>Jeff</code>之后紧跟一个<code>s</code>一个单词分界符）整个表达式才能匹配成功。但是，因为<code>s\b</code>只是顺序环视子表达式的一部分，所以它匹配的<code>s</code>不属于最终的匹配文本。**记住，<code>Jeff</code>确定匹配文本，而顺序环视只是“选择”一个位置。**在此处使用顺序环视的唯一好处在于，它保证表达式不会匹配任意的情况。或者从另一个角度来说就是，它容许我们在只匹配<code>Jeff</code>之前检查整个<code>Jeffs</code>。</p> <p><img src="https://cdn.staticaly.com/gh/ccbeango/blogImages@master/%E7%B2%BE%E9%80%9ARegex/%E7%B2%BE%E9%80%9A%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F1-07.png" alt="精通正则表达式1-07"></p> <p>方法4： 实际上并没有匹配任何字符，只是匹配了我们希望插入撇号的位置。在这种情况下，我们并没有“替换”任何字符，而只是插入了一个撇号。</p> <p><img src="https://cdn.staticaly.com/gh/ccbeango/blogImages@master/%E7%B2%BE%E9%80%9ARegex/%E7%B2%BE%E9%80%9A%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F1-08.png" alt="精通正则表达式1-08"></p> <p>评价：</p> <p><img src="https://cdn.staticaly.com/gh/ccbeango/blogImages@master/%E7%B2%BE%E9%80%9ARegex/%E7%B2%BE%E9%80%9A%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F1-09.png" alt="精通正则表达式1-09"></p> <h3 id="环视功能给数值插入逗号"><a href="#环视功能给数值插入逗号" class="header-anchor">#</a> 环视功能给数值插入逗号</h3> <p>一句话，The US population is 298444215，对于英语阅读者，<code>298,444,215</code>看起来更自然。</p> <p>如果手动添加，从左到右，每三个数字，如果左边还有数字的话，就加入一个逗号，但<strong>正则表达式一般都是从左向右工作的</strong>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'The population of 29844215 is growing'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> str2 <span class="token operator">=</span> <span class="token string">'The US population is 298444215'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=\d)(?=(?:\d{3})+\b)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>

<span class="token keyword">const</span> res1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'res1'</span><span class="token punctuation">,</span> res1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> res2 <span class="token operator">=</span> str2<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'res2'</span><span class="token punctuation">,</span> res2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>首先逆序环视，<code>(?&lt;=\d)</code>从右到左匹配左边有数字的右侧位置，这时可以匹配到左侧有数字的位置，然后从这个位置再使用顺序环视<code>(?=(?:\d{3})+\b)</code>从左到右匹配右边有三个数字，查看这个位置的右侧是否有三个数字，如果有，就插入一个逗号。</p> <p>表达式中还使用了非捕获型括号<code>(?:\d{}3)</code>，这样做的好处在于，见到这个正则表达式的人不会担
心与捕获型括号关联的<code>$1</code>是否会被用到；而且它的效率更高，因为引擎不需要记忆捕获的文本。</p> <h2 id="第三章-正则表达式的特性和流派概览"><a href="#第三章-正则表达式的特性和流派概览" class="header-anchor">#</a> 第三章 正则表达式的特性和流派概览</h2> <h3 id="程序中处理正则表达式的方式"><a href="#程序中处理正则表达式的方式" class="header-anchor">#</a> 程序中处理正则表达式的方式</h3> <p>一般来说，程序设计语言有3 种处理正则表达式的方式：</p> <ol><li>集成式（integrated）：正则表达式是直接内建在语言之中的，Perl就是如此。</li> <li>程序式（procedural）和面向对象式（object-oriented）：正则表达式不属于语言的低级语法。相反，普通的函数接收普通的字符串，把它们作为正则表达式进行处理。由不同的函数进行不同的、关系到一个或多个正则表达式的操作。大多数语言（不包括Perl）采用的都是这两种方式之一，包括Java、.NET、Tcl、Python、PHP、Emacs、lisp和Ruby。当然，还有JavaScript。</li></ol> <h3 id="集成式处理"><a href="#集成式处理" class="header-anchor">#</a> 集成式处理</h3> <p>Perl 会把正则表达式<code>^Subject:(.＊)</code>应用到<code>$line</code> 保存的文本中，如果能够匹配，则执行下面的程序段。其中，变量<code>$1</code>代表括号内的子表达式匹配的文本，将它们赋值给<code>$subject</code>。</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$line</span> <span class="token operator">=~</span> <span class="token regex">m/^Subject:(.*)/i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$subject</span> <span class="token operator">=</span> <span class="token variable">$1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="程序式和面向对象式"><a href="#程序式和面向对象式" class="header-anchor">#</a> 程序式和面向对象式</h3> <p>程序式处理和面向对象式处理非常相似。这两种方式下，正则功能不是由内建的操作符来提供，而是由普通函数（函数式）或构造函数及方法（面向对象式）来提供的。这种情况下，并没有专属于正则表达式的操作符，只有平常的字符串，普通的函数、构造函数和方法把这些字符串作为正则表达式来处理。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'Subject:hello'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^Subject:(.*)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> subject<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>m<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  subject <span class="token operator">=</span> m<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> regex2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Regex</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^Subject:(.*)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> m2 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="元字符"><a href="#元字符" class="header-anchor">#</a> 元字符</h3> <p>MDN正则表达式：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_expressions</p> <table><thead><tr><th>元字符</th> <th>作用</th></tr></thead> <tbody><tr><td>\s</td> <td>任何空白字符，包括空格符、制表符、进纸符等</td></tr> <tr><td>\S</td> <td>除\s以外的任何字符，等价于<code>[^\s]</code></td></tr> <tr><td>\d</td> <td>数字，即0-9</td></tr> <tr><td>\D</td> <td>除数字\d之外的任何字符，即[^0-9]</td></tr> <tr><td>\w</td> <td>匹配字母数字下划线，即[a-zA-Z0-9_]</td></tr> <tr><td>\W</td> <td>除\w以外的任何字符，也就是[^a-zA-Z0-9_]</td></tr> <tr><td>\b</td> <td>匹配一个词边界</td></tr> <tr><td>\r</td> <td>回车符</td></tr> <tr><td>\n</td> <td>换行符</td></tr> <tr><td>\t</td> <td>水平制表符</td></tr> <tr><td>\v</td> <td>垂直制表符</td></tr> <tr><td>[\b]</td> <td>退格符</td></tr> <tr><td>\e</td> <td>Escape字符</td></tr></tbody></table> <h3 id="修饰符"><a href="#修饰符" class="header-anchor">#</a> 修饰符</h3> <table><thead><tr><th>修饰符</th> <th>作用</th></tr></thead> <tbody><tr><td>g</td> <td>全局匹配</td></tr> <tr><td>i</td> <td>不区分大小写</td></tr> <tr><td>m</td> <td>多行搜索</td></tr> <tr><td>s</td> <td>允许<code>.</code>匹配换行符</td></tr> <tr><td>u</td> <td>使用unicode码的模式进行匹配</td></tr> <tr><td>y</td> <td>执行“粘性 (<code>sticky</code>)”搜索，匹配从目标字符串的当前位置开始。</td></tr></tbody></table> <h2 id="第四章-正则表达式的匹配原理"><a href="#第四章-正则表达式的匹配原理" class="header-anchor">#</a> 第四章 正则表达式的匹配原理</h2> <h3 id="正则表达式的零件"><a href="#正则表达式的零件" class="header-anchor">#</a> 正则表达式的零件</h3> <ol><li>文字文本：例如a、\＊、！、枝…
<ul><li>如果一个正则表达式只包含纯文本字符，例如<code>usa</code>，那么正则引擎会将其视为：一个<code>u</code>，接着一个<code>s</code>，接着一个<code>a</code>。进行不区分大小写的匹配时的情况要复杂一点，因为<code>b</code>能够匹配B，而<code>B</code>也能匹配b</li></ul></li> <li>字符组、点号、Unicode属性及其他
<ul><li>通常情况下，这种匹配是比较简单的：无论字符组的长度是多少，它都只能匹配一个字符。</li> <li>点号可以很方便地表示复杂的字符组，它几乎能匹配所有字符，所以它的作用也很简
单</li> <li>其他的简便方式还包括<code>\w</code>、<code>\W</code>和<code>\d</code></li></ul></li> <li>捕获型括号
<ul><li>用于捕获文本的括号（而不是用于分组的括号）不会影响匹配的过程</li></ul></li> <li>锚点：例如，<code>^</code>、<code>\z</code>、<code>(?&lt;=\d)</code> <ul><li>锚点可以分为两大类：简单锚点（^、$、\G、\b）和复杂锚点（例如顺序
环视和逆序环视）。简单锚点之所以得名，就在于它们只是检查目标字符串中的特
定位置的情况（^、\Z），或者是比较两个相邻的字符（\＜、\b、…）。相反，复杂锚
点（环视）能包含任意复杂的子表达式，所以它们也可以任意复杂。</li></ul></li></ol> <h3 id="匹配基础"><a href="#匹配基础" class="header-anchor">#</a> 匹配基础</h3> <h4 id="规则1-优先选择最左端-最靠开头-的匹配结果。"><a href="#规则1-优先选择最左端-最靠开头-的匹配结果。" class="header-anchor">#</a> 规则1：优先选择最左端（最靠开头）的匹配结果。</h4> <p>这条规则的由来是：匹配先从需要查找的字符串的起始位置尝试匹配。在这里，“尝试匹配（attempt）”的意思是，在当前位置测试整个正则表达式（可能很复杂）能匹配的每样文本。如果在当前位置测试了所有的可能之后不能找到匹配结果，就需要从字符串的第二个字符之前的位置开始重新尝试。在找到匹配结果以前必须在所有的位置重复此过程。只有在尝试过所有的起始位置（直到字符串的最后一个字符）都不能找到匹配结果的情况下，才会报告“匹配失败”。</p> <p>如果要用「ORA」来匹配FLORAL，从字符串左边开始第一轮尝试会失败（因为「ORA」不能匹配FLO），第二轮尝试也会失败（「ORA」同样不能匹配LOR），从第三个字符开始的尝试能够成功，所以引擎会停下来，报告匹配结果。</p> <p>使用<code>fat|cat|belly|your</code>匹配 The dragging belly indicates that your cat is too fat. 结果是什么？</p> <p>答案是：belly。</p> <p>原因：尽管fat在最前面，而且正则表达式应该也能匹配到其它可能，但它们都不是最先出现的匹配结果，所以不会被选择。在下一轮尝试之前，正则表达式的所有可能都会尝试，也就是说，在移动之前，fat、cat、belly和yours都必须尝试。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'The dragging belly indicates that your cat is too fat.'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">fat|cat|belly|your</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="规则2-标准量词是匹配优先的"><a href="#规则2-标准量词是匹配优先的" class="header-anchor">#</a> 规则2 标准量词是匹配优先的</h4> <p>标准匹配量词<code>?</code>、<code>*</code>、<code>+</code>以及<code>{min，max}</code>都是匹配优先（greedy）的。</p> <p>简而言之，标准匹配量词的结果可能并非所有可能中最长的，但它们总是尝试匹配尽可能多的字符，直到匹配上限为止。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'March 1998'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[0-9]+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['1998', index: 6, input: 'March 1998', groups: undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的匹配到了所有数字，1匹配之后，实际上已经满足了成功的下限，但此正则表达式是匹配优先的，所以它不会停在此处，而会继续下去，继续匹配998，直到这个字符串的末尾。</p> <h5 id="过度优先匹配"><a href="#过度优先匹配" class="header-anchor">#</a> 过度优先匹配</h5> <p>来看一个正则表达式理解下这个规则：</p> <p>正则表达式<code>/^.*([0-9][0-9])/</code>，能够匹配一行字符的最后两位数字，如果有的话，然后将它们存储在$1 中。下面是匹配的过程：</p> <ul><li><p><code>.*</code>首先过度优先匹配整行，而<code>[0-9] [0-9]</code>是必须匹配的，在尝试匹配行末的时候会失败，这样它会通知<code>.*</code>：“嗨，你占的太多了，交出一些字符来吧，这样我没准能匹配。”</p></li> <li><p>匹配优先组件首先会匹配尽可能多的字符，但为了整个表达式的匹配，它们通常需要“释放”一些字符（抑制自己的天性）。当然，它们并不“愿意”这样做，只是不得已而为之。</p></li> <li><p>当然，“交还”绝不能破坏匹配成立必须的条件，比如标准量词加号<code>+</code>的第一次匹配。</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'about 24 characters long'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*([0-9][0-9])</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['about 24', '24', index: 0, input: 'about 24 characters long', groups: undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码的实际匹配过程如下：</p> <ul><li><code>.*</code>匹配整个字符串以后，第一个<code>[0-9]</code>的匹配要求<code>.*</code>释放一个字符g（最后的字符）。但是这并不能让<code>[0-9]</code>匹配，所以<code>.*</code>必须继续“交还”字符，接下来交还的字符是n。如此循环15次，直到<code>.*</code>最终释放数字4为止。</li> <li>不幸的是，即使第一个<code>[0-9]</code>能够匹配4，第二个<code>[0-9]</code>仍然不能匹配。为了匹配整个正则表达式，<code>.*</code>必须再次释放一个字符，这次是2，由第一个<code>[0-9]</code>匹配。</li> <li>现在，4能够由第二个<code>[0-9]</code>匹配，所以整个表达式匹配的是<em>about 24</em>，<code>$1</code>的值是<em>24</em>。</li></ul> <h5 id="先来先服务"><a href="#先来先服务" class="header-anchor">#</a> 先来先服务</h5> <p>如果用<code>/^.＊[0-9]+/</code>来匹配<em>Copyright 2003.</em> ，括号会捕获到什么？</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'Copyright 2003.'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*([0-9]+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//  ['Copyright 2003', 'Copyright 200', '3', index: 0, input: 'Copyright 2003.', groups: undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这个表达式本意是捕获整个数字2003，但结果并非如此。因为过度有限匹配，<code>^.*</code>会首先匹配整行，为了满足<code>[0-9]+</code>的匹配，<code>.*</code>必须交还一些字符。在这个例子中，释放的字符是最后的3和点号，之后3能够由<code>[0-9]</code>匹配。<code>[0-9]</code>由 <code>+</code>量词修饰，所以现在还只做到了最小的匹配可能，现在它遇到了<code>.</code>，找不到其他可以匹配的字符。</p> <p>与之前不同，此时没有“必须”匹配的元素，所以<code>.</code>不会被迫交出<code>0</code>。否则，<code>[0-9]+</code>应当心存感激，接受匹配优先元素的馈赠，但请记住“先来先服务”原则。匹配优先的结构只会在被迫的情况下交还字符。所以，最终<code>$1</code>的值是3。</p> <p>注：这里所说的<code>.*</code>必须继续“交还”或许会引起混淆，这么说是便于理解，而且跟实际结果一致。真相是由基本的引擎类型决定的，是DFA还是NFA。</p> <h3 id="nfa和dfa"><a href="#nfa和dfa" class="header-anchor">#</a> NFA和DFA</h3></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/ccbeango/blog/edit/master/docs/01.前端/00.JavaScript/07.阅读精通正则表达式总结.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/07/05, 23:08:46</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/blog/pages/1e1cbc/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">项目搭建规范的配置</div></a> <a href="/blog/pages/5bb2dc/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">HTML和CSS基础学习</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/pages/1e1cbc/" class="prev">项目搭建规范的配置</a></span> <span class="next"><a href="/blog/pages/5bb2dc/">HTML和CSS基础学习</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/blog/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/blog/pages/1e1cbc/"><div>
            项目搭建规范的配置
            <!----></div></a> <span class="date">07-15</span></dt></dl><dl><dd>02</dd> <dt><a href="/blog/pages/4c97eb/"><div>
            Vite的使用
            <!----></div></a> <span class="date">07-03</span></dt></dl><dl><dd>03</dd> <dt><a href="/blog/pages/e1ed37/"><div>
            Rollup的使用
            <!----></div></a> <span class="date">06-30</span></dt></dl> <dl><dd></dd> <dt><a href="/blog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="liuyh940@gamil.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/ccbeango" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://space.bilibili.com/316494239" title="Bilibili" target="_blank" class="iconfont icon-bilibili"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2018-2023
    <span>Ccbeango</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.0ed7b280.js" defer></script><script src="/blog/assets/js/2.7308dfd9.js" defer></script><script src="/blog/assets/js/14.88ac5afd.js" defer></script>
  </body>
</html>
